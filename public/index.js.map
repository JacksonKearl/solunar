{"version":3,"file":"index.js","sources":["../src/utils.ts","../src/dom/utils.ts","../src/degreeMath.ts","../src/dom/CanvasElement.ts","../src/dom/Slider.ts","../src/dom/Toggle.ts","../src/factorF.ts","../src/constituents.ts","../src/tideForTime.ts","../src/dom/TideOScope.ts","../src/dom/Gauge.ts","../src/dom/Clock.ts","../src/dom/index.ts"],"sourcesContent":["import { Disposable } from './types'\n\nexport const dot = (a: (number | undefined)[], b: (number | undefined)[]) => {\n\tconst l = Math.min(a.length, b.length)\n\tlet result = 0\n\tfor (let i = 0; i < l; i++) {\n\t\tresult += (a[i] ?? 0) * (b[i] ?? 0)\n\t}\n\treturn result\n}\n\nexport const Year = (yearNumber: number): Date => new Date(String(yearNumber))\n\nexport const scale = (\n\tvalue: number,\n\tinMin: number,\n\tinMax: number,\n\toutMin: number,\n\toutMax: number,\n) => ((value - inMin) / (inMax - inMin)) * (outMax - outMin) + outMin\n\n/** rescale amt from 0-1 to min-max */\nexport const sploot = (amt: number, min: number, max: number) =>\n\tscale(amt, 0, 1, min, max)\n\nexport const bound2 = (val: number, min: number, max: number) =>\n\tMath.max(min, Math.min(val, max))\n\nconst perfStart = performance.now()\nlet last = perfStart\nexport const logTime = (msg: string) => {\n\tconst now = performance.now()\n\tconsole.log(msg, now - last)\n\tlast = now\n}\n\nexport type View<T> = { (viewer: (value: T) => void): Disposable }\nexport class Observable<T> {\n\tview: View<T>\n\tvalue: T | undefined\n\tprotected watchers = new Set<(v: T) => void>()\n\tconstructor() {\n\t\tthis.view = (w) => {\n\t\t\tthis.watchers.add(w)\n\t\t\tif (this.value) {\n\t\t\t\tw(this.value)\n\t\t\t}\n\t\t\treturn { dispose: () => this.watchers.delete(w) }\n\t\t}\n\t}\n\tset(v: T) {\n\t\tif (v !== this.value) {\n\t\t\tthis.value = v\n\t\t\tthis.watchers.forEach((w) => w(v))\n\t\t}\n\t}\n}\nexport class Event extends Observable<void> {\n\tconstructor() {\n\t\tsuper()\n\t}\n\tfire() {\n\t\tthis.watchers.forEach((w) => w())\n\t}\n}\n\nexport const MappedView =\n\t<T, U>(view: View<T>, mapper: (v: T) => U): View<U> =>\n\t(watcher) => {\n\t\tconst disposable = view((v) => watcher(mapper(v)))\n\t\treturn { dispose: () => disposable.dispose() }\n\t}\n\nexport class LocalStorageState<V> implements Disposable {\n\tpublic value: V\n\tconstructor(\n\t\tprivate id: string,\n\t\tdefaultValue: V,\n\t\tprivate serializer: (v: V) => string = JSON.stringify,\n\t\tdeserializer: (s: string) => V = JSON.parse,\n\t) {\n\t\tthis.value = defaultValue\n\t\tconst prior = localStorage.getItem(id)\n\t\tif (prior) {\n\t\t\ttry {\n\t\t\t\tthis.value = deserializer(prior)\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Error deserializing key',\n\t\t\t\t\tid,\n\t\t\t\t\t'from local storage data ',\n\t\t\t\t\tprior,\n\t\t\t\t\te,\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tlocalStorage.setItem(this.id, this.serializer(this.value))\n\t}\n}\n\nexport class DisposableStore implements Disposable {\n\tprivate store = new Set<Disposable>()\n\tprivate isDisposed = false\n\tclear(): void {\n\t\tthis.store.forEach((d) => d.dispose())\n\t\tthis.store.clear()\n\t}\n\tadd<Ds extends Disposable[]>(...ds: Ds): Ds {\n\t\tif (this.isDisposed) {\n\t\t\tconsole.trace(\n\t\t\t\t'Alert! Attempting to add to a disposed store. This is probably a bug. These objects will be immediately disposed:',\n\t\t\t\tds,\n\t\t\t)\n\t\t\tds.forEach((d) => d.dispose())\n\t\t} else {\n\t\t\tds.forEach((d) => this.store.add(d))\n\t\t}\n\t\treturn ds\n\t}\n\tdispose(): void {\n\t\tthis.clear()\n\t\tthis.isDisposed = true\n\t}\n}\n\nexport const ViewFromArray = <T>(\n\tviews: View<T>[],\n\tdisposables: DisposableStore,\n): View<T[]> => {\n\tconst values: T[] = Array.from({ length: views.length })\n\tconst watchers = new Set<(v: T[]) => void>()\n\tviews.forEach((view, index) =>\n\t\tdisposables.add(\n\t\t\tview((v) => {\n\t\t\t\tvalues[index] = v\n\t\t\t\twatchers.forEach((w) => w(values))\n\t\t\t}),\n\t\t),\n\t)\n\treturn (w) => {\n\t\twatchers.add(w)\n\t\treturn { dispose: () => watchers.delete(w) }\n\t}\n}\n","import { Disposable } from '$/types'\n\nexport const addWindowListener = <K extends keyof WindowEventMap>(\n\ttype: K,\n\tlistener: (this: Window, ev: WindowEventMap[K]) => any,\n\toptions?: boolean | AddEventListenerOptions,\n): Disposable => {\n\twindow.addEventListener(type, listener, options)\n\treturn { dispose: () => window.removeEventListener(type, listener) }\n}\n\nexport const addElementListener = <K extends keyof HTMLElementEventMap>(\n\telement: HTMLElement,\n\ttype: K,\n\tlistener: (this: HTMLElement, ev: HTMLElementEventMap[K]) => any,\n\toptions?: boolean | AddEventListenerOptions,\n): Disposable => {\n\telement.addEventListener(type, listener, options)\n\treturn { dispose: () => element.removeEventListener(type, listener) }\n}\n\nexport const findDPR = () => window.devicePixelRatio || 1\n","export const radToDeg = (rad: number) => (rad * 180) / Math.PI\nexport const degToRad = (deg: number) => (deg * Math.PI) / 180\n\nexport const sin = (deg: number) => Math.sin(degToRad(deg))\nexport const asin = (val: number) => radToDeg(Math.asin(val))\n\nexport const cos = (deg: number) => Math.cos(degToRad(deg))\nexport const acos = (val: number) => radToDeg(Math.acos(val))\n\nexport const tan = (deg: number) => Math.tan(degToRad(deg))\nexport const atan = (val: number) => radToDeg(Math.atan(val))\n\nexport const cot = (deg: number) => 1 / tan(deg)\n\nexport const wrap = (deg: number, limit = 360): number =>\n\t((deg % limit) + limit) % limit\n","import { bound2, DisposableStore } from '$/utils'\nimport { Disposable } from '$/types'\nimport { addElementListener, findDPR } from './utils'\nimport { cos, degToRad, sin } from '$/degreeMath'\n\n/** Always in page-pixel-space (`page-space * dpr`) */\nexport type Location = { x: number; y: number }\nexport type CursorEvent = TouchEvent | MouseEvent\nexport type DrawZone = {\n\ttop: number\n\tleft: number\n\twidth: number\n\theight: number\n}\nexport type CanvasDimensions = {\n\tleft: number\n\tright: number\n\ttop: number\n\tbottom: number\n\tcenterY: number\n\tcenterX: number\n\tminDim: number\n\twidth: number\n\theight: number\n}\n\nexport const drawZoneForElement = (el: HTMLElement): DrawZone => {\n\tconst dpr = findDPR()\n\treturn {\n\t\ttop: el.offsetTop * dpr,\n\t\tleft: el.offsetLeft * dpr,\n\t\theight: el.offsetHeight * dpr,\n\t\twidth: el.offsetWidth * dpr,\n\t}\n}\n\nexport const setupCanvas = (\n\tcanvas: HTMLCanvasElement,\n): { ctx: CanvasRenderingContext2D; dim: CanvasDimensions } => {\n\tconst dpr = findDPR()\n\tconst rect = canvas.getBoundingClientRect()\n\tcanvas.width = rect.width * dpr\n\tcanvas.height = rect.height * dpr\n\tconst ctx = canvas.getContext('2d')!\n\tconst dim: CanvasDimensions = {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tbottom: canvas.height,\n\t\tright: canvas.width,\n\t\tcenterY: canvas.height / 2,\n\t\tcenterX: canvas.width / 2,\n\t\tminDim: Math.min(canvas.height, canvas.width),\n\t\twidth: canvas.width,\n\t\theight: canvas.height,\n\t}\n\n\treturn { ctx, dim }\n}\n\nexport abstract class CanvasElement implements Disposable {\n\tprotected disposables = new DisposableStore()\n\tprotected dimensions: CanvasDimensions\n\tprotected disposed = false\n\n\tprotected scaleFactor: number\n\tprotected active: boolean = false\n\n\tpublic abstract render(): void\n\n\tprotected onClick(l: Location): void {}\n\tprotected onDrag(l: Location & { dx: number; dy: number }): void {}\n\n\tconstructor(protected context: CanvasRenderingContext2D, drawZone: DrawZone) {\n\t\tthis.dimensions = {\n\t\t\ttop: drawZone.top,\n\t\t\tbottom: drawZone.top + drawZone.height,\n\t\t\tleft: drawZone.left,\n\t\t\tright: drawZone.left + drawZone.width,\n\t\t\tcenterY: drawZone.top + drawZone.height / 2,\n\t\t\tcenterX: drawZone.left + drawZone.width / 2,\n\t\t\twidth: drawZone.width,\n\t\t\theight: drawZone.height,\n\t\t\tminDim: Math.min(drawZone.height, drawZone.width),\n\t\t}\n\n\t\tconst touchTracker = new Map<number, Location>()\n\t\tthis.scaleFactor = this.dimensions.minDim / 2\n\t\tthis.disposables.add({\n\t\t\tdispose: () =>\n\t\t\t\tthis.context.clearRect(\n\t\t\t\t\tthis.dimensions.left,\n\t\t\t\t\tthis.dimensions.top,\n\t\t\t\t\tthis.dimensions.width,\n\t\t\t\t\tthis.dimensions.height,\n\t\t\t\t),\n\t\t})\n\t\tthis.disposables.add({ dispose: () => (this.disposed = true) })\n\t\tthis.disposables.add(\n\t\t\taddElementListener(this.context.canvas, 'wheel', (e) => {\n\t\t\t\tconst l = this.locationOfEvent(e)\n\t\t\t\tif (this.locationInBounds(l)) {\n\t\t\t\t\tconst dpr = findDPR()\n\t\t\t\t\tthis.onDrag({\n\t\t\t\t\t\tdx: -e.deltaX * dpr,\n\t\t\t\t\t\tdy: -e.deltaY * dpr,\n\t\t\t\t\t\tx: e.pageX * dpr,\n\t\t\t\t\t\ty: e.pageY * dpr,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}),\n\t\t\taddElementListener(this.context.canvas, 'touchstart', (e) => {\n\t\t\t\tconst l = this.locationOfEvent(e)\n\t\t\t\tif (l && this.locationInBounds(l)) {\n\t\t\t\t\ttouchTracker.set(e.touches[0].identifier, l)\n\t\t\t\t\tthis.active = true\n\t\t\t\t}\n\t\t\t}),\n\t\t\taddElementListener(this.context.canvas, 'mousedown', (e) => {\n\t\t\t\tconst l = this.locationOfEvent(e)\n\t\t\t\tif (this.locationInBounds(l)) {\n\t\t\t\t\tthis.active = true\n\t\t\t\t}\n\t\t\t}),\n\t\t\taddElementListener(this.context.canvas, 'touchend', (e) => {\n\t\t\t\tconst l = this.locationOfEvent(e)\n\t\t\t\tif (l && this.locationInBounds(l) && this.active) {\n\t\t\t\t\tthis.onClick(l)\n\t\t\t\t}\n\t\t\t\tthis.active = false\n\t\t\t\ttouchTracker.delete(e.touches[0].identifier)\n\t\t\t}),\n\t\t\taddElementListener(this.context.canvas, 'mouseup', (e) => {\n\t\t\t\tconst l = this.locationOfEvent(e)\n\t\t\t\tif (l && this.locationInBounds(l) && this.active) {\n\t\t\t\t\tthis.onClick(l)\n\t\t\t\t}\n\t\t\t\tthis.active = false\n\t\t\t}),\n\t\t\taddElementListener(this.context.canvas, 'touchcancel', (e) => {\n\t\t\t\tthis.active = false\n\t\t\t\ttouchTracker.delete(e.touches[0].identifier)\n\t\t\t}),\n\t\t\taddElementListener(this.context.canvas, 'mouseleave', (e) => {\n\t\t\t\tthis.active = false\n\t\t\t}),\n\t\t\taddElementListener(this.context.canvas, 'mousemove', (e) => {\n\t\t\t\tif (this.active && e.buttons) {\n\t\t\t\t\tconst dpr = findDPR()\n\t\t\t\t\tthis.onDrag({\n\t\t\t\t\t\tdx: e.movementX * dpr,\n\t\t\t\t\t\tdy: e.movementY * dpr,\n\t\t\t\t\t\tx: e.pageX * dpr,\n\t\t\t\t\t\ty: e.pageY * dpr,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}),\n\t\t\taddElementListener(this.context.canvas, 'touchmove', (e) => {\n\t\t\t\tif (this.active && e.touches.length === 1) {\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tconst touch = e.touches[0]\n\t\t\t\t\tconst priorTouch = touchTracker.get(touch.identifier)\n\t\t\t\t\tconst movementX = priorTouch ? touch.pageX - priorTouch.x : 0\n\t\t\t\t\tconst movementY = priorTouch ? touch.pageY - priorTouch.y : 0\n\t\t\t\t\tconst dpr = findDPR()\n\t\t\t\t\tconst location = { x: touch.pageX * dpr, y: touch.pageY * dpr }\n\t\t\t\t\tthis.onDrag({\n\t\t\t\t\t\tdx: movementX * dpr,\n\t\t\t\t\t\tdy: movementY * dpr,\n\t\t\t\t\t\t...location,\n\t\t\t\t\t})\n\t\t\t\t\ttouchTracker.set(touch.identifier, location)\n\t\t\t\t}\n\t\t\t}),\n\t\t)\n\t}\n\n\tprotected locationInBounds(l: Location | undefined): boolean {\n\t\treturn this.locationInDrawZone(l)\n\t}\n\n\tprotected locationOfEvent(m: CursorEvent): Location | undefined {\n\t\tlet e: MouseEvent | Touch | undefined\n\t\tif (m instanceof TouchEvent) {\n\t\t\tif (m.touches.length !== 1) return undefined\n\t\t\te = m.touches[0]\n\t\t} else {\n\t\t\te = m\n\t\t}\n\n\t\tconst dpr = findDPR()\n\t\treturn { x: e.pageX * dpr, y: e.pageY * dpr }\n\t}\n\n\tprotected locationInRadius(l: Location | undefined, r: number): boolean {\n\t\tif (!l) return false\n\t\tconst { x, y } = l\n\t\treturn (\n\t\t\tMath.sqrt(\n\t\t\t\t(x - this.dimensions.centerX) ** 2 + (y - this.dimensions.centerY) ** 2,\n\t\t\t) <\n\t\t\tthis.scaleFactor * r\n\t\t)\n\t}\n\n\tprotected locationInDrawZone(l: Location | undefined): boolean {\n\t\tif (!l) return false\n\t\treturn (\n\t\t\tbound2(l.x, this.dimensions.left, this.dimensions.right) === l.x &&\n\t\t\tbound2(l.y, this.dimensions.top, this.dimensions.bottom) === l.y\n\t\t)\n\t}\n\n\tprotected setLineWidth(l: number) {\n\t\tthis.context.lineWidth = this.scaleFactor * l\n\t}\n\n\tprotected traceCircle(r: number, x: number = 0, y: number = 0) {\n\t\tconst { canvasX, canvasY } = this.xyToCanvasCoords(x, y)\n\t\tthis.context.arc(canvasX, canvasY, this.scaleFactor * r, 0, 2 * Math.PI)\n\t}\n\n\tprotected traceLine(x: number, y: number) {\n\t\tconst { canvasX, canvasY } = this.xyToCanvasCoords(x, y)\n\t\tthis.context.lineTo(canvasX, canvasY)\n\t}\n\n\tprotected xyToCanvasCoords(x: number, y: number) {\n\t\treturn {\n\t\t\tcanvasX: this.dimensions.centerX + this.scaleFactor * x,\n\t\t\tcanvasY: this.dimensions.centerY + this.scaleFactor * y,\n\t\t}\n\t}\n\n\tprotected getRect(r: number, deg: number) {\n\t\treturn {\n\t\t\tx: r * cos(deg),\n\t\t\ty: r * -sin(deg),\n\t\t}\n\t}\n\n\tprotected withRotation(\n\t\tdeg: number,\n\t\tcenterX: number,\n\t\tcenterY: number,\n\t\tcb: () => void,\n\t) {\n\t\tconst { canvasX, canvasY } = this.xyToCanvasCoords(centerX, centerY)\n\t\tthis.context.translate(canvasX, canvasY)\n\t\tthis.context.rotate(-degToRad(deg))\n\t\tthis.context.translate(-canvasX, -canvasY)\n\t\tcb()\n\t\tthis.context.translate(canvasX, canvasY)\n\t\tthis.context.rotate(degToRad(deg))\n\t\tthis.context.translate(-canvasX, -canvasY)\n\t}\n\n\tprotected traceRay(\n\t\tr: number,\n\t\tdeg: number,\n\t\tstartX: number = 0,\n\t\tstartY: number = 0,\n\t\toffset: number = 0,\n\t) {\n\t\tif (offset) {\n\t\t\tthis.moveTo(startX + offset * cos(deg), startY - offset * sin(deg))\n\t\t}\n\t\tthis.traceLine(startX + r * cos(deg), startY - r * sin(deg))\n\t}\n\n\tprotected moveTo(x: number, y: number) {\n\t\tthis.context.moveTo(\n\t\t\tthis.dimensions.centerX + this.scaleFactor * x,\n\t\t\tthis.dimensions.centerY + this.scaleFactor * y,\n\t\t)\n\t}\n\n\tprotected fillText(\n\t\tx: number,\n\t\ty: number,\n\t\ttext: string,\n\t\tjustify: 'center' | 'left' | 'right' = 'center',\n\t) {\n\t\tconst textProps = this.context.measureText(text)\n\t\tconst xJustifyAdjust = {\n\t\t\tcenter: textProps.width / 2,\n\t\t\tleft: 0,\n\t\t\tright: textProps.width,\n\t\t}[justify]\n\t\tconst yJustifyAdjust = textProps.actualBoundingBoxAscent / 2\n\n\t\tthis.context.fillText(\n\t\t\ttext,\n\t\t\tthis.dimensions.centerX + this.scaleFactor * x - xJustifyAdjust,\n\t\t\tthis.dimensions.centerY + this.scaleFactor * y + yJustifyAdjust,\n\t\t)\n\t}\n\n\tdispose(): void {\n\t\tthis.disposables.clear()\n\t}\n}\n","import { scale, bound2, Observable, LocalStorageState } from '$/utils'\nimport { CanvasElement, DrawZone, Location } from './CanvasElement'\n\ntype SliderOptions = {\n\tvalue: number\n\tmin: number\n\tmax: number\n\tlabel: string\n\tid?: string\n}\nexport class Slider extends CanvasElement {\n\tprivate vertical\n\n\tprivate value = new Observable<number>()\n\tpublic valueView = this.value.view\n\n\tconstructor(\n\t\tcontext: CanvasRenderingContext2D,\n\t\tdrawZone: DrawZone,\n\t\tprivate options: SliderOptions,\n\t) {\n\t\tsuper(context, drawZone)\n\n\t\tconst valueStore = new LocalStorageState(\n\t\t\toptions.id ?? options.label,\n\t\t\toptions.value,\n\t\t)\n\t\tthis.options.value = valueStore.value\n\n\t\tthis.vertical = this.dimensions.height > this.dimensions.width\n\t\tthis.value.set(this.options.value)\n\t\tthis.scaleFactor = (this.vertical ? drawZone.height : drawZone.width) / 2\n\n\t\tthis.disposables.add(\n\t\t\tvalueStore,\n\t\t\tthis.valueView((v) => (valueStore.value = v)),\n\t\t)\n\t}\n\n\tprotected override onDrag(l: Location & { dx: number; dy: number }) {\n\t\tconst { dx, dy } = l\n\n\t\tlet newVal\n\t\tif (this.vertical) {\n\t\t\tconst valLoc = scale(\n\t\t\t\tthis.options.value,\n\t\t\t\tthis.options.min,\n\t\t\t\tthis.options.max,\n\t\t\t\tthis.dimensions.bottom - this.scaleFactor * 0.1,\n\t\t\t\tthis.dimensions.top + this.scaleFactor * 0.1,\n\t\t\t)\n\t\t\tconst newValLoc = bound2(\n\t\t\t\tvalLoc + dy,\n\t\t\t\tthis.dimensions.top + this.scaleFactor * 0.1,\n\t\t\t\tthis.dimensions.bottom - this.scaleFactor * 0.1,\n\t\t\t)\n\t\t\tnewVal = scale(\n\t\t\t\tnewValLoc,\n\t\t\t\tthis.dimensions.bottom - this.scaleFactor * 0.1,\n\t\t\t\tthis.dimensions.top + this.scaleFactor * 0.1,\n\t\t\t\tthis.options.min,\n\t\t\t\tthis.options.max,\n\t\t\t)\n\t\t} else {\n\t\t\tconst valLoc = scale(\n\t\t\t\tthis.options.value,\n\t\t\t\tthis.options.min,\n\t\t\t\tthis.options.max,\n\t\t\t\tthis.dimensions.left + this.scaleFactor * 0.1,\n\t\t\t\tthis.dimensions.right - this.scaleFactor * 0.1,\n\t\t\t)\n\t\t\tconst newValLoc = bound2(\n\t\t\t\tvalLoc + dx,\n\t\t\t\tthis.dimensions.left + this.scaleFactor * 0.1,\n\t\t\t\tthis.dimensions.right - this.scaleFactor * 0.1,\n\t\t\t)\n\t\t\tnewVal = scale(\n\t\t\t\tnewValLoc,\n\t\t\t\tthis.dimensions.left + this.scaleFactor * 0.1,\n\t\t\t\tthis.dimensions.right - this.scaleFactor * 0.1,\n\t\t\t\tthis.options.min,\n\t\t\t\tthis.options.max,\n\t\t\t)\n\t\t}\n\n\t\tthis.options.value = newVal\n\t\tthis.value.set(newVal)\n\t\tthis.render()\n\t}\n\n\tprotected override onClick(l: Location) {\n\t\tthis.handleTouch(l)\n\t}\n\n\tprivate handleTouch(l: Location) {\n\t\tconst scaleVal = this.vertical\n\t\t\t? scale(\n\t\t\t\t\tl.y,\n\t\t\t\t\tthis.dimensions.bottom - this.scaleFactor * 0.1,\n\t\t\t\t\tthis.dimensions.top + this.scaleFactor * 0.1,\n\t\t\t\t\tthis.options.min,\n\t\t\t\t\tthis.options.max,\n\t\t\t  )\n\t\t\t: scale(\n\t\t\t\t\tl.x,\n\t\t\t\t\tthis.dimensions.left + this.scaleFactor * 0.1,\n\t\t\t\t\tthis.dimensions.right - this.scaleFactor * 0.1,\n\t\t\t\t\tthis.options.min,\n\t\t\t\t\tthis.options.max,\n\t\t\t  )\n\t\tconst boundVal = bound2(scaleVal, this.options.min, this.options.max)\n\t\tthis.options.value = boundVal\n\t\tthis.value.set(boundVal)\n\t\tthis.render()\n\t}\n\n\trender(): void {\n\t\tthis.context.fillStyle = '#333'\n\t\tthis.context.fillRect(\n\t\t\tthis.dimensions.left,\n\t\t\tthis.dimensions.top,\n\t\t\tthis.dimensions.width,\n\t\t\tthis.dimensions.height,\n\t\t)\n\n\t\tthis.context.save()\n\t\tthis.context.beginPath()\n\n\t\tconst [dX, dY] = this.vertical ? [0, 1] : [1, 0]\n\t\tthis.moveTo(-dX, -dY)\n\t\tthis.traceLine(dX, dY)\n\n\t\tthis.context.lineWidth = 10\n\t\tthis.context.strokeStyle = '#111'\n\t\tthis.context.stroke()\n\t\tthis.context.beginPath()\n\n\t\tconst y = this.vertical\n\t\t\t? scale(this.options.value, this.options.min, this.options.max, 0.9, -0.9)\n\t\t\t: 0\n\t\tconst x = this.vertical\n\t\t\t? 0\n\t\t\t: scale(this.options.value, this.options.min, this.options.max, -0.9, 0.9)\n\n\t\tthis.traceCircle(0.1, x, y)\n\t\tthis.context.fillStyle = '#444'\n\t\tthis.context.fill()\n\t\tthis.context.beginPath()\n\t\tthis.traceCircle(0.05, x, y)\n\t\tthis.context.fillStyle = '#f0f'\n\t\tthis.context.fill()\n\t\tthis.context.restore()\n\t}\n}\n","import { LocalStorageState, Observable } from '$/utils'\nimport { CanvasElement, DrawZone, Location } from './CanvasElement'\n\ntype ToggleOptions = {\n\tvalue: boolean\n\tlabel: string\n\tonLabel: string\n\toffLabel: string\n}\nexport class Toggle extends CanvasElement {\n\tprivate value = new Observable<boolean>()\n\tpublic valueView = this.value.view\n\n\tconstructor(\n\t\tcontext: CanvasRenderingContext2D,\n\t\tdrawZone: DrawZone,\n\t\tprivate options: ToggleOptions,\n\t) {\n\t\tsuper(context, drawZone)\n\t\t\n\t\tconst valueStore = new LocalStorageState(\n\t\t\toptions.id ?? options.label,\n\t\t\toptions.value,\n\t\t)\n\t\tthis.options.value = valueStore.value\n\n\t\tthis.value.set(options.value)\n\t\tthis.scaleFactor = this.dimensions.minDim * 0.15\n\n\t\tthis.disposables.add(\n\t\t\tvalueStore,\n\t\t\tthis.valueView((v) => (valueStore.value = v)),\n\t\t)\n\t}\n\n\tprotected override onClick(l: Location): void {\n\t\tif (this.locationInRadius(l, 2)) {\n\t\t\tthis.options.value = !this.options.value\n\t\t\tthis.value.set(this.options.value)\n\t\t\tthis.render()\n\t\t}\n\t}\n\n\toverride render() {\n\t\tthis.context.fillStyle = '#333'\n\t\tthis.context.fillRect(\n\t\t\tthis.dimensions.left,\n\t\t\tthis.dimensions.top,\n\t\t\tthis.dimensions.width,\n\t\t\tthis.dimensions.height,\n\t\t)\n\n\t\tthis.context.save()\n\t\tthis.context.beginPath()\n\n\t\tthis.traceCircle(0.7)\n\t\tthis.context.lineWidth = this.scaleFactor / 10\n\t\tthis.context.fillStyle = '#000'\n\t\tthis.context.fill()\n\t\tthis.context.strokeStyle = '#fff'\n\t\tthis.context.stroke()\n\n\t\tthis.context.fillStyle = '#fff'\n\t\tconst mainLabelSize = this.scaleFactor * 0.9 + 'px'\n\t\tthis.context.font = mainLabelSize + ' system-ui'\n\t\tthis.fillText(0, -2.7, this.options.label.toLocaleUpperCase())\n\n\t\tconst optionLabelSize = this.scaleFactor * 0.5 + 'px'\n\t\tthis.context.font = optionLabelSize + ' system-ui'\n\t\tthis.fillText(0, -1.5, this.options.onLabel.toLocaleUpperCase())\n\t\tthis.fillText(0, +1.5, this.options.offLabel.toLocaleUpperCase())\n\n\t\tthis.context.beginPath()\n\t\tthis.traceCircle(0.4)\n\t\tthis.context.fillStyle = '#555'\n\t\tthis.context.fill()\n\n\t\tconst flipper = this.options.value ? -1 : 1\n\t\tthis.context.beginPath()\n\t\tthis.context.fillStyle = '#888'\n\t\tthis.moveTo(0, 0)\n\t\tthis.traceLine(-0.1, 0.05 * flipper)\n\t\tthis.traceLine(+0.1, 0.05 * flipper)\n\t\tthis.traceLine(+0.4, 1.0 * flipper)\n\t\tthis.traceLine(+0.0, 1.3 * flipper)\n\t\tthis.traceLine(-0.4, 1.0 * flipper)\n\t\tthis.traceLine(-0.1, 0.05 * flipper)\n\t\tthis.context.fill()\n\n\t\tthis.context.beginPath()\n\t\tthis.context.fillStyle = '#999'\n\t\tthis.traceLine(+0.4, 1.0 * flipper)\n\t\tthis.traceLine(0, 1.3 * flipper)\n\t\tthis.traceLine(-0.4, 1.0 * flipper)\n\t\tthis.context.closePath()\n\t\tthis.context.fill()\n\n\t\tthis.context.restore()\n\t}\n}\n","import { sin, cos, tan } from './degreeMath'\nimport { LunarNodeState } from './types'\n\nexport type fFormula = (l: LunarNodeState) => number\n\n// 1/Qa = [ 1/4 + (3/2 cos I / cos^2 1/2 I) * cos 2P + 9/4 cos^2 I / cos^4 1/2 I ]^(1/2)\n// Schureman, page 47\nconst QaInv = (l: LunarNodeState) =>\n\tMath.sqrt(\n\t\t1 / 4 +\n\t\t\t(3 / 2) * (cos(l.I) / cos(l.I / 2) ** 2) * cos(2 * l.P) +\n\t\t\t(9 / 4) * (cos(l.I) ** 2 / cos(l.I / 2) ** 4),\n\t)\n\n// 1/Ra = (1 - 12 tan^2 1/2 I cos 2P + 36tan^4 I/2)^(1/2)\n// Schureman, page 50\nconst RaInv = (l: LunarNodeState) =>\n\tMath.sqrt(1 - 12 * tan(l.I / 2) ** 2 * cos(2 * l.P) + 36 * tan(l.I / 2) ** 4)\n\ntype EqDB = 73 | 74 | 75 | 76 | 77 | 78 | 149 | 206 | 215 | 227 | 235\nexport const FactorFs: Record<EqDB, fFormula> = {\n\t73: ({ I }) => (2 / 3 - sin(I) ** 2) / 0.5021,\n\t74: ({ I }) => sin(I) ** 2 / 0.1578,\n\t75: ({ I }) => (sin(I) * cos(I / 2) ** 2) / 0.38,\n\t76: ({ I }) => sin(2 * I) / 0.7214,\n\t77: ({ I }) => (sin(I) * sin(I / 2) ** 2) / 0.0164,\n\t78: ({ I }) => cos(I / 2) ** 4 / 0.9154,\n\t149: ({ I }) => cos(I / 2) ** 6 / 0.8758,\n\t206: (l) => FactorFs[75](l) * QaInv(l),\n\t215: (l) => FactorFs[78](l) * RaInv(l),\n\t227: ({ I, Nu }) =>\n\t\tMath.sqrt(\n\t\t\t0.8965 * sin(2 * I) ** 2 + 0.6001 * sin(2 * I) * cos(Nu) + 0.1006,\n\t\t),\n\t235: ({ I, Nu }) =>\n\t\tMath.sqrt(\n\t\t\t19.0444 * sin(I) ** 4 + 2.7702 * sin(I) ** 2 * cos(2 * Nu) + 0.0981,\n\t\t),\n}\n","import { FactorFs, fFormula } from './factorF'\nimport { ConstituentName } from './types'\n\ntype CMap<T> = Record<ConstituentName, T>\n\n// coefficients to be dotted with < T, s, h, p, p1, unity >\ntype V = [number?, number?, number?, number?, number?, number?]\n// coefficients to be dotted with < Xi, Nu, NuPrime, NuDoublePrime, R, Q >\ntype u = [number?, number?, number?, number?, number?, number?]\n\nexport type ConstituentData = {\n\tdescription?: string\n\tgroup?: string\n\n\tV: V\n\tu: u\n\n\tf: fFormula\n}\n\nconst unity = () => 1\n\n// Schureman, page 180\nexport const Constituents: CMap<ConstituentData> = {\n\t'J1': {\n\t\tV: [1, 1, 1, -1, 0, -90],\n\t\tu: [0, -1],\n\t\tf: FactorFs[76],\n\t},\n\t'K1': {\n\t\tV: [1, 0, 1, 0, 0, -90],\n\t\tu: [0, 0, -1],\n\t\tf: FactorFs[227],\n\t},\n\t'K2': {\n\t\tV: [2, 0, 2],\n\t\tu: [0, 0, 0, -2],\n\t\tf: FactorFs[235],\n\t},\n\t'L2': {\n\t\tV: [2, -1, 2, -1, 0, 180],\n\t\tu: [2, -2, 0, 0, -1],\n\t\tf: FactorFs[215],\n\t},\n\t'M1': {\n\t\tV: [1, -1, 1, 0, 0, -90],\n\t\tu: [1, -1, 0, 0, 0, 1],\n\t\tf: FactorFs[206],\n\t},\n\n\t'M2': {\n\t\tV: [2, -2, 2],\n\t\tu: [2, -2],\n\t\tf: FactorFs[78],\n\t},\n\t'M3': {\n\t\tV: [3, -3, 3],\n\t\tu: [3, -3],\n\t\tf: FactorFs[149],\n\t},\n\t'M4': {\n\t\tV: [4, -4, 4],\n\t\tu: [4, -4],\n\t\tf: (l) => Constituents.M2.f(l) ** 2,\n\t},\n\t'M6': {\n\t\tV: [6, -6, 6],\n\t\tu: [6, -6],\n\t\tf: (l) => Constituents.M2.f(l) ** 3,\n\t},\n\t'M8': {\n\t\tV: [8, -8, 8],\n\t\tu: [8, -8],\n\t\tf: (l) => Constituents.M2.f(l) ** 4,\n\t},\n\n\t'N2': {\n\t\tV: [2, -3, 2, 1],\n\t\tu: [2, -2],\n\t\tf: FactorFs[78],\n\t},\n\t'2N': {\n\t\tV: [2, -4, 2, 2],\n\t\tu: [2, -2],\n\t\tf: FactorFs[78],\n\t},\n\t'O1': {\n\t\tV: [1, -2, 1, 0, 0, 90],\n\t\tu: [2, -1],\n\t\tf: FactorFs[75],\n\t},\n\t'OO': {\n\t\tV: [1, 2, 1, 0, 0, -90],\n\t\tu: [-2, -1],\n\t\tf: FactorFs[77],\n\t},\n\n\t'P1': { V: [1, 0, -1, 0, 0, 90], u: [], f: unity },\n\t'Q1': {\n\t\tV: [1, -3, 1, 1, 0, 90],\n\t\tu: [2, -1],\n\t\tf: FactorFs[75],\n\t},\n\t'2Q': {\n\t\tV: [1, -4, 1, 2, 0, 90],\n\t\tu: [2, -1],\n\t\tf: FactorFs[75],\n\t},\n\t'R2': { V: [2, 0, 1, 0, -1, 180], u: [], f: unity },\n\n\t'S1': { V: [1], u: [], f: unity },\n\t'S2': { V: [2], u: [], f: unity },\n\t'S4': { V: [4], u: [], f: unity },\n\t'S6': { V: [6], u: [], f: unity },\n\t'T2': { V: [2, 0, -1, 0, 1], u: [], f: unity },\n\n\t'Lambda2': {\n\t\tV: [2, -1, 0, 1, 0, 180],\n\t\tu: [2, -2],\n\t\tf: FactorFs[78],\n\t},\n\t'Mu2': {\n\t\tV: [2, -4, 4],\n\t\tu: [2, -2],\n\t\tf: FactorFs[78],\n\t},\n\t'Nu2': {\n\t\tV: [2, -3, 4, -1],\n\t\tu: [2, -2],\n\t\tf: FactorFs[78],\n\t},\n\t'Rho1': {\n\t\tV: [1, -3, 3, -1, 0, 90],\n\t\tu: [2, -1],\n\t\tf: FactorFs[75],\n\t},\n\n\t'MK': {\n\t\tV: [3, -2, 3, 0, 0, -90],\n\t\tu: [2, -2, -1],\n\t\tf: (l) => Constituents.M2.f(l) * Constituents.K1.f(l),\n\t},\n\t'2MK': {\n\t\tV: [3, -4, 3, 0, 0, 90],\n\t\tu: [4, -4, 1],\n\t\tf: (l) => Constituents.M2.f(l) ** 2 * Constituents.K1.f(l),\n\t},\n\t'MN': {\n\t\tV: [4, -5, 4, 1],\n\t\tu: [4, -4],\n\t\tf: (l) => Constituents.M2.f(l) ** 2,\n\t},\n\t'MS': {\n\t\tV: [4, -2, 2],\n\t\tu: [2, -2],\n\t\tf: (l) => Constituents.M2.f(l) ** 2,\n\t},\n\t'2SM': {\n\t\tV: [2, 2, -2],\n\t\tu: [-2, 2],\n\t\tf: (l) => Constituents.M2.f(l),\n\t},\n\n\t'Mf': { V: [0, 2], u: [-2], f: FactorFs[74] },\n\t'MSf': { V: [0, 2, -2], u: [], f: FactorFs[73] },\n\t'Mm': { V: [0, 1, 0, -1], u: [], f: FactorFs[73] },\n\n\t'Sa': { V: [0, 0, 1], u: [], f: unity },\n\t'Ssa': { V: [0, 0, 2], u: [], f: unity },\n}\n","import { dot, scale, Year } from './utils'\nimport { sin, cos, tan, acos, atan, wrap, cot } from './degreeMath'\nimport { Constituents, ConstituentData } from './constituents'\nimport { OrbitState, LunarNodeState, Station, UnixTime } from './types'\n\nconst OrbitStateToArray = (o: OrbitState) => [o.T, o.s, o.h, o.p, o.p1, 1]\n// Schureman, page 179\nconst OrbitVelocities: OrbitState = {\n\tT: 15.0,\n\ts: 0.54901653,\n\th: 0.041068639,\n\tp: 0.00464183,\n\tp1: 0.00000196,\n\tN: -0.00220641,\n}\n\nconst EpochTime = new Date('1900')\n// Schureman, page 179\nconst EpochState: OrbitState = {\n\tT: 180.0,\n\ts: 277.026,\n\th: 280.19,\n\tp: 334.384,\n\tp1: 281.221,\n\tN: 259.156,\n}\n\nconst OrbitAtTime = (time: UnixTime): Record<keyof OrbitState, number> => {\n\tconst deltaHours = (+time - +EpochTime) / 1000 / 60 / 60\n\treturn {\n\t\tT: OrbitVelocities.T * deltaHours + EpochState.T,\n\t\ts: OrbitVelocities.s * deltaHours + EpochState.s,\n\t\th: OrbitVelocities.h * deltaHours + EpochState.h,\n\t\tp: OrbitVelocities.p * deltaHours + EpochState.p,\n\t\tp1: OrbitVelocities.p1 * deltaHours + EpochState.p1,\n\t\tN: OrbitVelocities.N * deltaHours + EpochState.N,\n\t}\n}\n\nconst LunarNodeStateToArray = (s: LunarNodeState) => [\n\ts.Xi,\n\ts.Nu,\n\ts.NuPrime,\n\ts.NuDoublePrime,\n\ts.R,\n\ts.Q,\n]\n\nconst LunarNodeStateForOrbit = (orbit: OrbitState): LunarNodeState => {\n\tconst { N, p } = orbit\n\n\t// tan 1/2 (N - Xi + Nu) = 1.01883 tan 1/2 N\n\t// tan 1/2 (N - Xi - Nu) = 0.64412 tan 1/2 N\n\t// Schureman, page 172\n\tconst i = atan(1.01883 * tan(N / 2))\n\tconst j = atan(0.64412 * tan(N / 2))\n\tconst Nu = i - j\n\tconst Xi = N - i - j\n\n\t// cos(I) = 0.91370 - 0.03569 * cos(N)\n\t// Schureman, page 172\n\tconst I = acos(0.9137 - 0.03569 * cos(N))\n\n\t// Nu' = atan[ ( sin 2I sin Nu ) / ( sin 2I cos Nu + 0.3347 ) ]\n\t// Schureman, page 51\n\tconst NuPrime = atan((sin(2 * I) * sin(Nu)) / (sin(2 * I) * cos(Nu) + 0.3347))\n\n\t// 2Nu'' = atan[ ( sin^2 I * sin 2Nu ) / ( sin^2 I cos 2Nu + 0.0727 ) ]\n\t// Schureman, page 52\n\tconst NuDoublePrime =\n\t\tatan((sin(I) ** 2 * sin(2 * Nu)) / (sin(I) ** 2 * cos(2 * Nu) + 0.0727)) / 2\n\n\t// p = P + Xi\n\t// Schureman, page 47\n\tconst P = wrap(p - Xi)\n\n\t// R = atan[ sin 2P / ( 1/6 cot^2 1/2 I - cos 2P ) ]\n\t// Schureman, page 50\n\tconst R = atan(sin(2 * P) / (cot(I / 2) ** 2 / 6 - cos(2 * P)))\n\n\t// Q = atan [ (5 cos I - 1) / (7 cos I + 1) * tan P ]\n\t// Schureman, page 48\n\tconst Q =\n\t\tatan(((5 * cos(I) - 1) / (7 * cos(I) + 1)) * tan(P)) +\n\t\t// Adjustment for quadrant selection\n\t\t(P > 90 ? 180 : 0) +\n\t\t(P > 270 ? 180 : 0)\n\n\treturn { Xi, Nu, NuPrime, NuDoublePrime, R, Q, I, P }\n}\n\nconst UniversalStateAtTime = (time: UnixTime) => {\n\tconst orbit = OrbitAtTime(time)\n\tconst lunarNode = LunarNodeStateForOrbit(orbit)\n\n\tconst orbitVector = OrbitStateToArray(orbit)\n\tconst lunarVector = LunarNodeStateToArray(lunarNode)\n\treturn { orbitVector, lunarVector, lunarNode }\n}\n\n// Computed exactly how Schureman does it, with the Orbit data taken from the\n// year start and the LunarNode data taken from the midpoint of the year.\n// This is probably less precise than could be achieved using contemporary data,\n// but is good for verification.\nconst ConstituentArgumentForYear = (\n\tconstituent: ConstituentData,\n\tyear: number,\n): number => {\n\tconst tStart = +Year(year)\n\tconst o = OrbitAtTime(tStart)\n\n\tconst tMid = (+Year(year) + +Year(year + 1)) / 2\n\tconst oMid = OrbitAtTime(tMid)\n\tconst l = LunarNodeStateForOrbit(oMid)\n\n\tconst V = dot(constituent.V, OrbitStateToArray(o))\n\tconst u = dot(constituent.u, LunarNodeStateToArray(l))\n\n\treturn wrap(V + u)\n}\n\nconst FactorFForYear = (constituent: ConstituentData, year: number): number => {\n\tconst tStart = Year(year)\n\tconst o = OrbitAtTime(+tStart)\n\n\tconst tMid = (+Year(year) + +Year(year + 1)) / 2\n\tconst oMid = OrbitAtTime(tMid)\n\tconst l = LunarNodeStateForOrbit(oMid)\n\n\treturn constituent.f(l)\n}\n\nconst ConstituentArgumentAtTime = (\n\tconstituent: ConstituentData,\n\ttime: UnixTime,\n): number => {\n\tconst o = OrbitAtTime(time)\n\tconst l = LunarNodeStateForOrbit(o)\n\tconst V = dot(constituent.V, OrbitStateToArray(o))\n\tconst u = dot(constituent.u, LunarNodeStateToArray(l))\n\treturn wrap(V + u)\n}\n\nexport type ConstituentContribution = {\n\targument: number\n\tamplitude: number\n\tdegreesPerSecond: number\n}\n\nexport type TideOScopeDataPoint = {\n\tflow: number\n\ttotal: number\n\ttime: UnixTime\n\tconstituents: Record<string, ConstituentContribution>\n}\n\nexport const StationLevelAtTime = (\n\tstation: Station,\n\ttime: UnixTime,\n\tconstituentScale = (degPerSec: number) => 1,\n): TideOScopeDataPoint => {\n\tconst vT = UniversalStateAtTime(time)\n\tconst vTNext = UniversalStateAtTime(+time + 1000)\n\n\tconst constituents: Record<string, ConstituentContribution> = {}\n\tlet totalFlow = 0\n\tlet totalOffset = 0\n\tfor (const harmonic of station.harcon) {\n\t\tconst cData = Constituents[harmonic.name]\n\n\t\tconst Vu = dot(cData.V, vT.orbitVector) + dot(cData.u, vT.lunarVector)\n\t\tconst VuNext =\n\t\t\tdot(cData.V, vTNext.orbitVector) + dot(cData.u, vTNext.lunarVector)\n\t\tconst degreesPerSecond = VuNext - Vu\n\n\t\tconst scale = constituentScale(degreesPerSecond)\n\n\t\tconst f = cData.f(vT.lunarNode) * scale\n\n\t\tconst phaseLag = harmonic.phaseLag\n\t\tconst amplitude = f * harmonic.amplitude\n\t\tconst argument = wrap(Vu - phaseLag)\n\t\tconst offset = f * amplitude * cos(argument)\n\t\tconst constituentContribution: ConstituentContribution = {\n\t\t\tamplitude,\n\t\t\targument,\n\t\t\tdegreesPerSecond,\n\t\t}\n\t\tconstituents[harmonic.name] = constituentContribution\n\t\ttotalOffset += offset\n\n\t\tconst offsetNext = f * amplitude * cos(VuNext - phaseLag)\n\t\ttotalFlow += (offsetNext - offset) * 60 * 60\n\t}\n\n\treturn { total: totalOffset, flow: totalFlow, constituents, time }\n}\n\n// An Epoch for New Moons. Astronomical Algorithms, Jean Meeus\nconst FirstLunation = new Date('2000-01-06T18:14')\n// Synodical Month, Schureman, page 179\nexport const LunarSynodicalSpeed = OrbitVelocities.s - OrbitVelocities.h\nexport const MoonSynodicalAngleAtTime = (time: UnixTime) => {\n\tconst deltaHours = (time - +FirstLunation) / (1000 * 60 * 60)\n\tconst deltaDegrees = deltaHours * LunarSynodicalSpeed\n\treturn wrap(deltaDegrees)\n}\n\n// Tropical Month, Schureman, page 179\nexport const LunarTropicalSpeed = OrbitVelocities.s\nexport const MoonTropicalAngleAtTime = (time: UnixTime) => {\n\tconst phaseOffset = SolarAngleAtTime(+FirstLunation)\n\tconst deltaHours = (time - +FirstLunation) / (1000 * 60 * 60)\n\tconst deltaDegrees = deltaHours * LunarTropicalSpeed + phaseOffset\n\treturn wrap(deltaDegrees)\n}\n\nexport const SolarAngleAtTime = (time: UnixTime) => {\n\tconst yearStart = new Date(time)\n\tyearStart.setUTCMonth(0, 1)\n\tyearStart.setUTCHours(0, 0, 0, 0)\n\n\tconst yearEnd = new Date(yearStart)\n\tyearEnd.setUTCFullYear(yearStart.getUTCFullYear() + 1)\n\n\treturn scale(time, +yearStart, +yearEnd, 0, 360)\n}\n","import {\n\tsploot,\n\tscale,\n\tView,\n\tDisposableStore,\n\tbound2,\n\tObservable,\n\tEvent,\n} from '$/utils'\nimport { sin, cos, wrap } from '$/degreeMath'\nimport { ConstituentName, Station, UnixTime } from '$/types'\nimport {\n\tStationLevelAtTime,\n\tMoonSynodicalAngleAtTime,\n\tSolarAngleAtTime,\n\tMoonTropicalAngleAtTime,\n\tLunarTropicalSpeed,\n\tTideOScopeDataPoint,\n} from '$/tideForTime'\nimport { Constituents } from '$/constituents'\nimport { CanvasElement, DrawZone, Location } from './CanvasElement'\n\ntype TideOScopeOptions = {\n\trenderScale: number\n\tcenter: number\n\ttimeRange: number\n\ttimeRate: number\n\tyRange: number\n\tlabelConstituents: boolean\n\trenderMoon: boolean\n\trenderSun: boolean\n\trenderHarmonics: boolean\n\tperiodLoPass: number\n\tperiodHiPass: number\n}\nexport class TideOScope extends CanvasElement {\n\tprivate activeRadius: number\n\tprivate data: TideOScopeDataPoint[]\n\tprivate lastFetchWallTime: number | undefined\n\tprivate autoAdvanceDisposables = new DisposableStore()\n\n\tprivate centralDataObservable = new Observable<TideOScopeDataPoint>()\n\tpublic centralDataView = this.centralDataObservable.view\n\n\tprivate onDidRenderEvent = new Event()\n\tpublic onDidRender = this.onDidRenderEvent.view\n\n\tpublic constructor(\n\t\tcontext: CanvasRenderingContext2D,\n\t\tdrawZone: DrawZone,\n\t\tprivate station: Station,\n\t\tprivate options: TideOScopeOptions,\n\t) {\n\t\tsuper(context, drawZone)\n\t\tthis.activeRadius = this.dimensions.minDim * (49 / 100)\n\t\tthis.scaleFactor = this.activeRadius\n\t\tthis.data = this.fetchAllData()\n\t\tthis.resetAutoAdvanceTimer()\n\t\tthis.disposables.add(this.autoAdvanceDisposables)\n\t}\n\n\tpublic viewInput<N extends keyof TideOScopeOptions>(\n\t\tinputName: N,\n\t\tview: View<TideOScopeOptions[N]>,\n\t) {\n\t\tconst toRunOnChange: {\n\t\t\t[K in keyof TideOScopeOptions]?: () => void\n\t\t} = {\n\t\t\tcenter: () => {\n\t\t\t\tthis.fetchAllData()\n\t\t\t},\n\t\t\ttimeRange: () => {\n\t\t\t\tthis.resetAutoAdvanceTimer()\n\t\t\t\tthis.fetchAllData()\n\t\t\t},\n\t\t\ttimeRate: () => {\n\t\t\t\tthis.resetAutoAdvanceTimer()\n\t\t\t\tthis.moveCenterWithTime()\n\t\t\t},\n\t\t\tperiodLoPass: () => {\n\t\t\t\tthis.fetchAllData()\n\t\t\t},\n\t\t\tperiodHiPass: () => {\n\t\t\t\tthis.fetchAllData()\n\t\t\t},\n\t\t}\n\n\t\tthis.disposables.add(\n\t\t\tview((v) => {\n\t\t\t\tif (this.options[inputName] !== v) {\n\t\t\t\t\tthis.options[inputName] = v\n\t\t\t\t\trequestAnimationFrame(() => this.render())\n\t\t\t\t\ttoRunOnChange[inputName]?.()\n\t\t\t\t}\n\t\t\t}),\n\t\t)\n\t}\n\n\tprotected override locationInBounds(l: Location | undefined): boolean {\n\t\treturn this.locationInRadius(l, 1)\n\t}\n\n\t// reads: renderScale, timeRange, timeRate, data\n\t// writes: center, data\n\tprotected override onDrag(l: Location & { dx: number; dy: number }): void {\n\t\tthis.panLevels((l.dx * -1) / this.options.renderScale)\n\t}\n\n\t// reads: timeRange, timeRate, data, periodHiPass, periodLoPass\n\t// writes: center, data\n\tprivate panAccumulator = 0\n\tprivate panLevels(numIndices: number) {\n\t\tthis.panAccumulator += numIndices\n\n\t\tconst amtToMove = Math.round(this.panAccumulator)\n\t\tconst timePerPixel = this.options.timeRange / this.activeRadius\n\t\tif (Math.abs(amtToMove) > 1) {\n\t\t\tif (amtToMove > 0) {\n\t\t\t\tlet cursor = +this.data[this.data.length - 1].time\n\t\t\t\tfor (let i = 0; i < amtToMove; i++) {\n\t\t\t\t\tcursor += timePerPixel * this.options.renderScale\n\t\t\t\t\tthis.data.shift()\n\t\t\t\t\tthis.data.push(this.stationLevelAtTime(cursor))\n\t\t\t\t\tthis.panAccumulator--\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet cursor = +this.data[0].time\n\t\t\t\tfor (let i = 0; i < -amtToMove; i++) {\n\t\t\t\t\tcursor -= timePerPixel * this.options.renderScale\n\t\t\t\t\tthis.data.pop()\n\t\t\t\t\tthis.data.unshift(this.stationLevelAtTime(cursor))\n\t\t\t\t\tthis.panAccumulator++\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.options.center += amtToMove * timePerPixel\n\t\tthis.outputCentralData()\n\t\tthis.render()\n\t}\n\n\t// reads timeRate\n\t// writes: center, data\n\tprivate moveCenterWithTime() {\n\t\tconst t = Date.now()\n\t\tif (this.disposed) return\n\t\tif (this.active) {\n\t\t\tthis.lastFetchWallTime = undefined\n\t\t} else {\n\t\t\tconst delta =\n\t\t\t\tthis.lastFetchWallTime === undefined || t === undefined\n\t\t\t\t\t? 0\n\t\t\t\t\t: t - this.lastFetchWallTime\n\t\t\tthis.options.center += delta * this.options.timeRate\n\n\t\t\tthis.fetchAllData()\n\t\t}\n\t}\n\n\t// reads: timeRange, timeRate\n\tprivate resetAutoAdvanceTimer() {\n\t\tthis.autoAdvanceDisposables.clear()\n\n\t\tconst timeout = bound2((60 / this.options.timeRate) * 1000, 0, 5000)\n\n\t\tconst doFrameUpdate = () => {\n\t\t\tif (!this.active) {\n\t\t\t\tthis.moveCenterWithTime()\n\t\t\t\tthis.render()\n\t\t\t}\n\t\t\tthis.resetAutoAdvanceTimer()\n\t\t}\n\n\t\tif (timeout < 10) {\n\t\t\tconst handle = window.requestAnimationFrame(doFrameUpdate)\n\t\t\tthis.autoAdvanceDisposables.add({\n\t\t\t\tdispose: () => window.cancelAnimationFrame(handle),\n\t\t\t})\n\t\t} else {\n\t\t\tconst handle = window.setTimeout(doFrameUpdate, timeout)\n\t\t\tthis.autoAdvanceDisposables.add({\n\t\t\t\tdispose: () => window.clearTimeout(handle),\n\t\t\t})\n\t\t}\n\t}\n\n\t// reads: center, timeRange, periodHiPass, periodLoPass\n\t// writes: data\n\tprivate fetchAllData() {\n\t\tthis.lastFetchWallTime = Date.now()\n\n\t\tconst start = this.options.center - this.options.timeRange\n\t\tconst end = this.options.center + this.options.timeRange\n\n\t\tconst levels = []\n\t\tfor (\n\t\t\tlet i = 0;\n\t\t\ti <= this.activeRadius * 2 + this.options.renderScale;\n\t\t\ti += this.options.renderScale\n\t\t) {\n\t\t\tconst percWidth = i / (this.activeRadius * 2)\n\t\t\tconst cursorTime = sploot(percWidth, start, end)\n\t\t\tlevels.push(this.stationLevelAtTime(cursorTime))\n\t\t}\n\t\tthis.data = levels\n\t\tthis.outputCentralData()\n\n\t\treturn this.data\n\t}\n\n\t// reads: center, data, renderHarmonics, renderMoon, renderSun, render12Hour, render24Hour, timeRange, timeRate, periodHiPass, periodLoPass\n\toverride render() {\n\t\tthis.context.save()\n\t\tthis.renderClippingPath()\n\t\tthis.renderBackground()\n\t\tthis.renderTidePlot()\n\t\tif (this.options.renderHarmonics) {\n\t\t\tthis.renderHarmonics()\n\t\t}\n\t\tif (this.options.renderMoon) {\n\t\t\tthis.renderMoon()\n\t\t}\n\t\tif (this.options.renderSun) {\n\t\t\tthis.renderSun()\n\t\t}\n\t\tthis.renderCrosshairs()\n\t\tthis.context.restore()\n\n\t\tthis.onDidRenderEvent.fire()\n\t}\n\n\t// reads: data, yRange\n\tprivate renderTidePlot() {\n\t\tthis.context.fillStyle = '#5a0073'\n\t\tthis.context.beginPath()\n\t\tthis.context.moveTo(this.dimensions.left, this.dimensions.bottom)\n\t\tfor (let i = 0; i < this.data.length; i++) {\n\t\t\tconst start = this.dimensions.centerX - this.activeRadius\n\t\t\tthis.context.lineTo(\n\t\t\t\tstart + i * this.options.renderScale,\n\t\t\t\tscale(\n\t\t\t\t\tthis.data[i].total,\n\t\t\t\t\t-this.options.yRange,\n\t\t\t\t\tthis.options.yRange,\n\t\t\t\t\tthis.dimensions.centerY + this.activeRadius,\n\t\t\t\t\tthis.dimensions.centerY - this.activeRadius,\n\t\t\t\t),\n\t\t\t)\n\t\t}\n\t\tthis.context.lineTo(this.dimensions.right, this.dimensions.bottom)\n\t\tthis.context.closePath()\n\t\tthis.context.fill()\n\t}\n\n\t// reads: center, periodHiPass, periodLoPass\n\tprivate outputCentralData() {\n\t\tthis.centralDataObservable.set(this.stationLevelAtTime(this.options.center))\n\t}\n\n\t// reads: center, periodHiPass, periodLoPass\n\tprivate get centralData() {\n\t\treturn this.stationLevelAtTime(this.options.center)\n\t}\n\n\t// reads: center\n\tprivate renderMoon() {\n\t\tconst moonSynodicalAngle = MoonSynodicalAngleAtTime(this.centralData.time)\n\t\tconst moonTropicalAngle = MoonTropicalAngleAtTime(this.centralData.time)\n\n\t\tconst { x, y } = this.getCoordForData(moonTropicalAngle, {\n\t\t\trevsPerHour: LunarTropicalSpeed / 360,\n\t\t})\n\t\tthis.context.fillStyle = '#eeeeee'\n\t\tconst percentCycle = wrap(moonSynodicalAngle) / 360\n\t\tconst outsidePath = []\n\t\tconst insidePath = []\n\t\tconst radius = this.activeRadius / 15\n\t\tfor (let y = -radius; y <= radius; y++) {\n\t\t\tif (percentCycle < 0.5) {\n\t\t\t\tconst xCircle = Math.sqrt(radius ** 2 - y ** 2)\n\t\t\t\toutsidePath.push([y, xCircle])\n\t\t\t\tinsidePath.push([y, scale(percentCycle, 0, 0.5, 1, -1) * xCircle])\n\t\t\t} else {\n\t\t\t\tconst xLead = -Math.sqrt(radius ** 2 - y ** 2)\n\t\t\t\toutsidePath.push([y, xLead])\n\t\t\t\tinsidePath.push([y, scale(percentCycle, 0.5, 1, -1, 1) * xLead])\n\t\t\t}\n\t\t}\n\n\t\tthis.context.beginPath()\n\t\tfor (const [dy, dx] of [...outsidePath, ...insidePath.reverse()]) {\n\t\t\tthis.context.lineTo(x + dx, y + dy)\n\t\t}\n\t\tthis.context.fill()\n\t}\n\n\t// reads: center\n\tprivate renderSun() {\n\t\tconst sunPhaseAngle = SolarAngleAtTime(this.centralData.time)\n\t\tconst { x, y } = this.getCoordForData(sunPhaseAngle, {\n\t\t\tdaysPerRev: 365.25,\n\t\t})\n\t\tthis.context.fillStyle = '#F1CE01'\n\n\t\tthis.context.beginPath()\n\t\tconst radius = this.activeRadius / 15\n\t\tthis.context.arc(x, y, radius, 0, 2 * Math.PI)\n\t\tthis.context.fill()\n\t}\n\t// reads: center\n\tprivate renderHarmonics() {\n\t\tconst constituentData = Object.entries(this.centralData.constituents).sort(\n\t\t\t([, a], [, b]) => b.amplitude - a.amplitude,\n\t\t)\n\n\t\tfor (const [name, data] of constituentData) {\n\t\t\tif (data && data.amplitude > 0.0) {\n\t\t\t\tconst { x, y, r } = this.getCoordForData(data.argument, {\n\t\t\t\t\trevsPerHour: (data.degreesPerSecond * 60 * 60) / 360,\n\t\t\t\t})\n\t\t\t\tconst radius = (data.amplitude * r ** 2) ** (1 / 3)\n\t\t\t\tconst eq = Constituents[name as ConstituentName]\n\t\t\t\tconst [T, s, h] = [...eq.V, 0, 0, 0].map((x) =>\n\t\t\t\t\tMath.abs(x!),\n\t\t\t\t) as number[]\n\t\t\t\tconst max = T + s + h + 0.5\n\t\t\t\tconst greenBlue = T\n\t\t\t\tconst blueRed = s\n\t\t\t\tconst redGreen = h\n\n\t\t\t\tconst rgb = [\n\t\t\t\t\tscale(redGreen + blueRed, 0, max, 0, 255),\n\t\t\t\t\tscale(redGreen + greenBlue, 0, max, 0, 255),\n\t\t\t\t\tscale(blueRed + greenBlue, 0, max, 0, 255),\n\t\t\t\t]\n\n\t\t\t\tconst alpha = 230\n\t\t\t\tconst toTwoDigitHexString = (n: number) =>\n\t\t\t\t\tMath.round(n).toString(16).padStart(2, '0')\n\t\t\t\tconst color = `#` + [...rgb, alpha].map(toTwoDigitHexString).join('')\n\t\t\t\t// console.log(name, eq.V, rgb, color)\n\t\t\t\tthis.context.fillStyle = color\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.context.arc(x, y, radius, 0, 2 * Math.PI)\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tif (this.options.labelConstituents) {\n\t\t\t\t\tthis.context.fillStyle = 'black'\n\t\t\t\t\tconst textProps = this.context.measureText(name)\n\t\t\t\t\tthis.context.fillText(\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tx - textProps.width / 2,\n\t\t\t\t\t\ty + textProps.actualBoundingBoxAscent / 2,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// reads: periodHiPass, periodLoPass\n\tprivate stationLevelAtTime(time: number) {\n\t\treturn StationLevelAtTime(this.station, time, (degreesPerSecond) => {\n\t\t\tconst revolutionsPerDay = (degreesPerSecond * (24 * 60 * 60)) / 360\n\t\t\tconst daysPerRev = 1 / revolutionsPerDay\n\t\t\tconst logDaysPerRev = Math.log2(daysPerRev)\n\n\t\t\tconst loScale = bound2(\n\t\t\t\tscale(\n\t\t\t\t\tlogDaysPerRev,\n\t\t\t\t\tthis.options.periodLoPass + 0.5,\n\t\t\t\t\tthis.options.periodLoPass - 0.5,\n\t\t\t\t\t0,\n\t\t\t\t\t1,\n\t\t\t\t),\n\t\t\t\t0,\n\t\t\t\t1,\n\t\t\t)\n\t\t\tconst hiScale = bound2(\n\t\t\t\tscale(\n\t\t\t\t\tlogDaysPerRev,\n\t\t\t\t\tthis.options.periodHiPass - 0.5,\n\t\t\t\t\tthis.options.periodHiPass + 0.5,\n\t\t\t\t\t0,\n\t\t\t\t\t1,\n\t\t\t\t),\n\t\t\t\t0,\n\t\t\t\t1,\n\t\t\t)\n\n\t\t\treturn loScale * hiScale\n\t\t})\n\t}\n\n\tprivate renderCrosshairs() {\n\t\t// Null Zone\n\t\tthis.context.beginPath()\n\t\tthis.context.fillStyle = '#00a322'\n\t\tthis.context.moveTo(this.dimensions.centerX, this.dimensions.centerY)\n\t\tconst { r } = this.getCoordForData(0, { daysPerRev: 1 / 15 })\n\t\tthis.context.arc(\n\t\t\tthis.dimensions.centerX,\n\t\t\tthis.dimensions.centerY,\n\t\t\tr,\n\t\t\t0,\n\t\t\t2 * Math.PI,\n\t\t)\n\t\tthis.context.fill()\n\n\t\t// Crosshairs\n\t\tthis.context.lineWidth = 2\n\t\tthis.context.strokeStyle = '#00a322cc'\n\n\t\tthis.context.beginPath()\n\t\tthis.context.moveTo(this.dimensions.left, this.dimensions.centerY)\n\t\tthis.context.lineTo(this.dimensions.right, this.dimensions.centerY)\n\t\tthis.context.moveTo(this.dimensions.centerX, this.dimensions.top)\n\t\tthis.context.lineTo(this.dimensions.centerX, this.dimensions.bottom)\n\t\tthis.context.moveTo(this.dimensions.centerX, this.dimensions.centerY)\n\t\tthis.context.stroke()\n\n\t\tlet i = 0\n\t\tfor (const daysPerRev of [1 / 4, 1, 4, 16, 64, 256, 1024]) {\n\t\t\tthis.context.beginPath()\n\t\t\tif (i % 2 === 0) {\n\t\t\t\tthis.context.lineWidth = 1\n\t\t\t\tthis.context.setLineDash([5, 10])\n\t\t\t} else {\n\t\t\t\tthis.context.lineWidth = 2\n\t\t\t\tthis.context.setLineDash([10, 5])\n\t\t\t}\n\t\t\ti++\n\t\t\tconst { r } = this.getCoordForData(0, { daysPerRev: daysPerRev })\n\t\t\tthis.context.arc(\n\t\t\t\tthis.dimensions.centerX,\n\t\t\t\tthis.dimensions.centerY,\n\t\t\t\tr,\n\t\t\t\t0,\n\t\t\t\t2 * Math.PI,\n\t\t\t)\n\t\t\tthis.context.stroke()\n\t\t}\n\t\tthis.context.setLineDash([])\n\t}\n\n\tprivate renderClippingPath() {\n\t\tthis.context.beginPath()\n\t\tthis.context.lineWidth = 20\n\t\tthis.context.strokeStyle = '#000000'\n\t\tthis.context.arc(\n\t\t\tthis.dimensions.centerX,\n\t\t\tthis.dimensions.centerY,\n\t\t\tthis.activeRadius,\n\t\t\t0,\n\t\t\tMath.PI * 2,\n\t\t)\n\t\tthis.context.stroke()\n\t\tthis.context.clip()\n\t}\n\n\tprivate renderBackground() {\n\t\tthis.context.fillStyle = '#28caf9'\n\t\tthis.context.fillRect(\n\t\t\tthis.dimensions.left,\n\t\t\tthis.dimensions.top,\n\t\t\tthis.dimensions.right,\n\t\t\tthis.dimensions.bottom,\n\t\t)\n\t}\n\n\tprivate getCoordForData(\n\t\tangle: number,\n\t\tspeed:\n\t\t\t| { daysPerRev: number; revsPerHour?: never }\n\t\t\t| { revsPerHour: number; daysPerRev?: never },\n\t): { x: number; y: number; r: number } {\n\t\tconst MAX_DIST = 22.2\n\n\t\tconst revsPerHour = speed.revsPerHour ?? 1 / speed.daysPerRev / 24\n\t\tconst logArg = (1 / revsPerHour ** 2) * (16 / 36)\n\t\tconst distance = logArg > 1 ? Math.log(logArg) : 0\n\t\tconst radius = this.activeRadius\n\t\treturn {\n\t\t\tr: scale(distance, 0, MAX_DIST, 0, radius),\n\t\t\tx: scale(\n\t\t\t\tdistance * sin(angle),\n\t\t\t\t-MAX_DIST,\n\t\t\t\tMAX_DIST,\n\t\t\t\tthis.dimensions.centerX - radius,\n\t\t\t\tthis.dimensions.centerX + radius,\n\t\t\t),\n\t\t\ty: scale(\n\t\t\t\tdistance * cos(angle),\n\t\t\t\t-MAX_DIST,\n\t\t\t\tMAX_DIST,\n\t\t\t\tthis.dimensions.centerY + radius,\n\t\t\t\tthis.dimensions.centerY - radius,\n\t\t\t),\n\t\t}\n\t}\n}\n","import { bound2, scale, sploot, View } from '$/utils'\nimport { CanvasElement, DrawZone } from './CanvasElement'\n\ntype GaugeOptions = {\n\tvalue: number\n\tminAngle: number\n\tmaxAngle: number\n\tmin: number\n\tmax: number\n\tnumMinorTics: number\n\tnumMajorTics: number\n\ttitle: string\n\tsubtitle: string\n}\n\nexport class Gauge extends CanvasElement {\n\tconstructor(\n\t\tcontext: CanvasRenderingContext2D,\n\t\tdrawZone: DrawZone,\n\t\tprivate options: GaugeOptions,\n\t) {\n\t\tsuper(context, drawZone)\n\t\tthis.scaleFactor = this.dimensions.minDim * (3 / 7)\n\t}\n\n\tpublic viewInput<N extends keyof GaugeOptions>(\n\t\tinputName: N,\n\t\tview: View<GaugeOptions[N]>,\n\t) {\n\t\tthis.disposables.add(\n\t\t\tview((v) => {\n\t\t\t\tif (this.options[inputName] !== v) {\n\t\t\t\t\tthis.options[inputName] = v\n\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\tthis.render()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}),\n\t\t)\n\t}\n\n\trender(): void {\n\t\tconst renderCasing = () => {\n\t\t\tthis.context.strokeStyle = '#000'\n\n\t\t\tthis.context.beginPath()\n\t\t\tthis.setLineWidth(0.1)\n\t\t\tthis.context.fillStyle = '#222'\n\t\t\tthis.traceCircle(1)\n\t\t\tthis.context.stroke()\n\t\t\tthis.context.fill()\n\t\t}\n\t\tconst renderHand = () => {\n\t\t\tconst valPercent = scale(\n\t\t\t\tthis.options.value,\n\t\t\t\tthis.options.min,\n\t\t\t\tthis.options.max,\n\t\t\t\t0,\n\t\t\t\t1,\n\t\t\t)\n\t\t\tconst bounded = bound2(valPercent, 0, 1)\n\t\t\tconst valAngle = sploot(\n\t\t\t\tbounded,\n\t\t\t\tthis.options.minAngle,\n\t\t\t\tthis.options.maxAngle,\n\t\t\t)\n\t\t\tconst rGauge = 0.8\n\t\t\tthis.withRotation(valAngle, 0, 0, () => {\n\t\t\t\tthis.context.fillStyle = '#444'\n\t\t\t\tthis.context.strokeStyle = '#000'\n\t\t\t\tthis.setLineWidth(0.015)\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceCircle(1 / 20)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceLine(rGauge * (0 / 3), rGauge * (1 / 20))\n\t\t\t\tthis.traceLine(rGauge * (2 / 3), rGauge * (1 / 20))\n\t\t\t\tthis.traceLine(rGauge * (3 / 3), rGauge * (0 / 20))\n\t\t\t\tthis.traceLine(rGauge * (2 / 3), rGauge * (-1 / 20))\n\t\t\t\tthis.traceLine(rGauge * (0 / 3), rGauge * (-1 / 20))\n\t\t\t\tthis.traceLine(0, 0)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.fillStyle = '#fff'\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.traceLine(rGauge * (1 / 4), rGauge * (1 / 20))\n\t\t\t\tthis.traceLine(rGauge * (2 / 3), rGauge * (1 / 20))\n\t\t\t\tthis.traceLine(rGauge * (3 / 3), rGauge * (0 / 20))\n\t\t\t\tthis.traceLine(rGauge * (2 / 3), rGauge * (-1 / 20))\n\t\t\t\tthis.traceLine(rGauge * (1 / 4), rGauge * (-1 / 20))\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.fillStyle = '#444'\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceCircle(1 / 20)\n\t\t\t\tthis.context.fill()\n\t\t\t})\n\t\t}\n\t\tconst renderTics = () => {\n\t\t\tthis.context.strokeStyle = '#fff'\n\t\t\tthis.context.fillStyle = '#fff'\n\n\t\t\tArray.from({ length: this.options.numMajorTics }, (_, iMaj) => {\n\t\t\t\tconst majorDeg = scale(\n\t\t\t\t\tiMaj,\n\t\t\t\t\t0,\n\t\t\t\t\tthis.options.numMajorTics - 1,\n\t\t\t\t\tthis.options.minAngle,\n\t\t\t\t\tthis.options.maxAngle,\n\t\t\t\t)\n\t\t\t\tconst val = scale(\n\t\t\t\t\tiMaj,\n\t\t\t\t\t0,\n\t\t\t\t\tthis.options.numMajorTics - 1,\n\t\t\t\t\tthis.options.min,\n\t\t\t\t\tthis.options.max,\n\t\t\t\t)\n\t\t\t\tconst { x, y } = this.getRect(0.65, majorDeg)\n\t\t\t\tthis.context.font = this.scaleFactor * 0.2 + 'px system-ui'\n\t\t\t\tthis.fillText(x, y, String(val), 'center')\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.setLineWidth(0.02)\n\t\t\t\tthis.traceRay(0.95, majorDeg, 0, 0, 0.8)\n\t\t\t\tthis.context.stroke()\n\n\t\t\t\tif (iMaj < this.options.numMajorTics - 1) {\n\t\t\t\t\tArray.from({ length: this.options.numMinorTics }, (_, iMin) => {\n\t\t\t\t\t\tconst nextMajDeg = scale(\n\t\t\t\t\t\t\tiMaj + 1,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tthis.options.numMajorTics - 1,\n\t\t\t\t\t\t\tthis.options.minAngle,\n\t\t\t\t\t\t\tthis.options.maxAngle,\n\t\t\t\t\t\t)\n\t\t\t\t\t\tconst minorDeg = scale(\n\t\t\t\t\t\t\tiMin + 1,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tthis.options.numMinorTics + 1,\n\t\t\t\t\t\t\tmajorDeg,\n\t\t\t\t\t\t\tnextMajDeg,\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tthis.context.beginPath()\n\t\t\t\t\t\tthis.setLineWidth(0.02)\n\t\t\t\t\t\tconst offset =\n\t\t\t\t\t\t\tiMin + 1 === (this.options.numMinorTics + 1) / 2 ? 0.85 : 0.9\n\t\t\t\t\t\tthis.traceRay(0.95, minorDeg, 0, 0, offset)\n\t\t\t\t\t\tthis.context.stroke()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tconst renderTitle = () => {\n\t\t\tthis.context.fillStyle = '#fff'\n\n\t\t\tthis.context.font = this.scaleFactor * 0.2 + 'px system-ui'\n\t\t\tthis.fillText(0, -0.6, this.options.title.toLocaleUpperCase(), 'center')\n\t\t\tthis.context.font = this.scaleFactor * 0.1 + 'px system-ui'\n\t\t\tthis.fillText(\n\t\t\t\t0,\n\t\t\t\t-0.4,\n\t\t\t\tthis.options.subtitle.toLocaleUpperCase(),\n\t\t\t\t'center',\n\t\t\t)\n\t\t}\n\n\t\tthis.context.save()\n\n\t\trenderCasing()\n\t\trenderHand()\n\t\trenderTics()\n\t\trenderTitle()\n\n\t\tthis.context.restore()\n\t}\n}\n","import { wrap } from '$/degreeMath'\nimport { DisposableStore, scale, View } from '$/utils'\nimport { CanvasElement, DrawZone } from './CanvasElement'\n\ntype ClockOptions = {\n\ttime: number\n\toffset: number\n\ttimeRate: number\n\trenderSecondHand: boolean\n\trender60Count: boolean\n\trender12Count: boolean\n\trenderTimer: boolean\n}\n\nexport class Clock extends CanvasElement {\n\tprivate lastTimeUpdateTime: number\n\tprivate autoAdvanceDisposables = new DisposableStore()\n\n\tconstructor(\n\t\tcontext: CanvasRenderingContext2D,\n\t\tdrawZone: DrawZone,\n\t\tprivate options: ClockOptions,\n\t) {\n\t\tsuper(context, drawZone)\n\t\tthis.lastTimeUpdateTime = Date.now()\n\t\tthis.scaleFactor = this.dimensions.minDim * (3 / 7)\n\t\tthis.resetAutoAdvanceTimer()\n\t\tthis.disposables.add(this.autoAdvanceDisposables)\n\t}\n\n\tpublic viewInput<N extends keyof ClockOptions>(\n\t\tinputName: N,\n\t\tview: View<ClockOptions[N]>,\n\t) {\n\t\tconst toRunOnChange: {\n\t\t\t[K in keyof ClockOptions]?: () => void\n\t\t} = {\n\t\t\ttimeRate: () => {\n\t\t\t\tthis.resetAutoAdvanceTimer()\n\t\t\t},\n\t\t\trenderSecondHand: () => {\n\t\t\t\tthis.resetAutoAdvanceTimer()\n\t\t\t},\n\t\t\ttime: () => {\n\t\t\t\tthis.lastTimeUpdateTime = Date.now()\n\t\t\t},\n\t\t}\n\n\t\tthis.disposables.add(\n\t\t\tview((v) => {\n\t\t\t\tif (this.options[inputName] !== v) {\n\t\t\t\t\tthis.options[inputName] = v\n\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\tthis.render()\n\t\t\t\t\t})\n\t\t\t\t\ttoRunOnChange[inputName]?.()\n\t\t\t\t}\n\t\t\t}),\n\t\t)\n\t}\n\n\t// reads: timeRate, refreshTimeout\n\tprivate resetAutoAdvanceTimer() {\n\t\tthis.autoAdvanceDisposables.clear()\n\t\tconst timeout =\n\t\t\t(this.options.renderSecondHand\n\t\t\t\t? 1 / 60\n\t\t\t\t: 1 / 10 / this.options.timeRate) * 1000\n\n\t\tif (timeout < 20) {\n\t\t\tconst handle = window.requestAnimationFrame(() => {\n\t\t\t\tif (!this.active) {\n\t\t\t\t\tthis.render()\n\t\t\t\t}\n\t\t\t\tthis.resetAutoAdvanceTimer()\n\t\t\t})\n\n\t\t\tthis.autoAdvanceDisposables.add({\n\t\t\t\tdispose: () => window.cancelAnimationFrame(handle),\n\t\t\t})\n\t\t} else {\n\t\t\tconst handle = window.setTimeout(() => {\n\t\t\t\tif (!this.active) {\n\t\t\t\t\tthis.render()\n\t\t\t\t}\n\t\t\t\tthis.resetAutoAdvanceTimer()\n\t\t\t}, timeout)\n\n\t\t\tthis.autoAdvanceDisposables.add({\n\t\t\t\tdispose: () => window.clearTimeout(handle),\n\t\t\t})\n\t\t}\n\t}\n\n\trender(): void {\n\t\tconst extrapolatedTime = this.extrapolateTime()\n\t\tconst timezoneOffset = this.options.offset * 60 * 1000\n\t\tconst timeToShow = extrapolatedTime - timezoneOffset\n\t\tconst startOfDayInTimezone = new Date(timeToShow)\n\n\t\tstartOfDayInTimezone.setUTCHours(0, 0, 0, 0)\n\t\tconst offset = timeToShow - +startOfDayInTimezone\n\t\tconst seconds = offset / 1000\n\t\tconst minutes = seconds / 60\n\t\tconst hours = minutes / 60\n\n\t\tconst renderCasing = () => {\n\t\t\tthis.context.strokeStyle = '#000'\n\n\t\t\tthis.context.beginPath()\n\t\t\tthis.setLineWidth(0.1)\n\t\t\tthis.context.fillStyle = '#181818'\n\t\t\tthis.traceCircle(1)\n\t\t\tthis.context.stroke()\n\t\t\tthis.context.fill()\n\n\t\t\tthis.context.beginPath()\n\t\t\tthis.context.fillStyle = '#000'\n\t\t\tthis.traceCircle(0.85)\n\t\t\tthis.context.fill()\n\n\t\t\tthis.context.beginPath()\n\t\t\tthis.context.fillStyle = '#222'\n\t\t\tthis.traceCircle(0.83)\n\t\t\tthis.context.fill()\n\t\t}\n\t\tconst render12Count = () => {\n\t\t\tthis.context.fillStyle = '#fff'\n\t\t\tArray.from({ length: 12 }, (_, i) => i + 1).forEach((h) => {\n\t\t\t\tconst r = 0.68\n\t\t\t\tconst deg = scale(h, 0, 12, 90, -270)\n\t\t\t\tconst { x, y } = this.getRect(r, deg)\n\t\t\t\tthis.context.font = this.scaleFactor * 0.2 + 'px system-ui'\n\t\t\t\tthis.fillText(x, y, String(h))\n\t\t\t})\n\t\t}\n\t\tconst render60Count = () => {\n\t\t\tArray.from({ length: 12 }, (_, i) => i + 1).forEach((s) => {\n\t\t\t\tconst r = 0.95\n\t\t\t\tconst deg = scale(s, 0, 12, 90, -270)\n\t\t\t\tconst { x, y } = this.getRect(r, deg)\n\t\t\t\tthis.context.font = this.scaleFactor * 0.07 + 'px system-ui'\n\t\t\t\tconst displayNumber = s * 5\n\t\t\t\tconst rotation: Record<number, number> = {\n\t\t\t\t\t5: -30,\n\t\t\t\t\t10: -60,\n\t\t\t\t\t20: 60,\n\t\t\t\t\t25: 30,\n\t\t\t\t}\n\t\t\t\tthis.withRotation(rotation[displayNumber % 30] ?? 0, x, y, () => {\n\t\t\t\t\tthis.fillText(x, y, String(displayNumber))\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\tconst render60Icons = () => {\n\t\t\tthis.context.strokeStyle = '#fff'\n\t\t\tthis.context.fillStyle = '#fff'\n\t\t\tArray.from({ length: 60 }, (_, i) => i + 1).forEach((s) => {\n\t\t\t\tconst deg = scale(s, 0, 60, 90, -270)\n\t\t\t\tif (s % 60 === 0) {\n\t\t\t\t\tthis.context.beginPath()\n\t\t\t\t\tthis.moveTo(0, -0.85)\n\t\t\t\t\tthis.traceLine(0.04, -0.92)\n\t\t\t\t\tthis.traceLine(-0.04, -0.92)\n\t\t\t\t\tthis.traceLine(-0, -0.85)\n\t\t\t\t\tthis.context.fill()\n\t\t\t\t} else if (s % 15 === 0) {\n\t\t\t\t\tthis.context.beginPath()\n\t\t\t\t\tthis.setLineWidth(0.05)\n\t\t\t\t\tthis.traceRay(0.9, deg, 0, 0, 0.85)\n\t\t\t\t\tthis.context.stroke()\n\t\t\t\t} else if (s % 5 === 0) {\n\t\t\t\t\tconst { x, y } = this.getRect(0.875, deg)\n\t\t\t\t\tthis.context.beginPath()\n\t\t\t\t\tthis.traceCircle(0.025, x, y)\n\t\t\t\t\tthis.context.fill()\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.beginPath()\n\t\t\t\t\tthis.setLineWidth(0.02)\n\t\t\t\t\tthis.traceRay(0.9, deg, 0, 0, 0.85)\n\t\t\t\t\tthis.context.stroke()\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tconst renderHourHand = () => {\n\t\t\tconst hourAngle = scale(wrap(hours, 12), 0, 12, 90, -270)\n\t\t\tconst rHour = 0.55\n\t\t\tthis.withRotation(hourAngle, 0, 0, () => {\n\t\t\t\tthis.context.fillStyle = '#444'\n\t\t\t\tthis.context.strokeStyle = '#000'\n\t\t\t\tthis.setLineWidth(0.015)\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceCircle(0.1)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceLine(rHour * (0 / 3), rHour * (1 / 30))\n\t\t\t\tthis.traceLine(rHour * (2 / 3), rHour * (5 / 30))\n\t\t\t\tthis.traceLine(rHour * (3 / 3), rHour * (0 / 30))\n\t\t\t\tthis.traceLine(rHour * (2 / 3), rHour * (-5 / 30))\n\t\t\t\tthis.traceLine(rHour * (0 / 3), rHour * (-1 / 30))\n\t\t\t\tthis.traceLine(0, 0)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.fillStyle = '#fff'\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.traceLine(rHour * (1 / 3), rHour * (3 / 30))\n\t\t\t\tthis.traceLine(rHour * (2 / 3), rHour * (5 / 30))\n\t\t\t\tthis.traceLine(rHour * (3 / 3), rHour * (0 / 30))\n\t\t\t\tthis.traceLine(rHour * (2 / 3), rHour * (-5 / 30))\n\t\t\t\tthis.traceLine(rHour * (1 / 3), rHour * (-3 / 30))\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.fillStyle = '#444'\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceCircle(0.1)\n\t\t\t\tthis.context.fill()\n\t\t\t})\n\t\t}\n\t\tconst renderMinuteHand = () => {\n\t\t\tconst minuteAngle = scale(wrap(minutes, 60), 0, 60, 90, -270)\n\t\t\tconst rMinute = 0.79\n\t\t\tthis.withRotation(minuteAngle, 0, 0, () => {\n\t\t\t\tthis.context.fillStyle = '#444'\n\t\t\t\tthis.context.strokeStyle = '#000'\n\t\t\t\tthis.setLineWidth(0.015)\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceCircle(0.08)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceLine(rMinute * (0 / 3), rMinute * (1 / 40))\n\t\t\t\tthis.traceLine(rMinute * (2 / 3), rMinute * (3 / 40))\n\t\t\t\tthis.traceLine(rMinute * (3 / 3), rMinute * (0 / 40))\n\t\t\t\tthis.traceLine(rMinute * (2 / 3), rMinute * (-3 / 40))\n\t\t\t\tthis.traceLine(rMinute * (0 / 3), rMinute * (-1 / 40))\n\t\t\t\tthis.traceLine(0, 0)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.fillStyle = '#fff'\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.traceLine(rMinute * (1 / 4), rMinute * (5 / 3 / 40))\n\t\t\t\tthis.traceLine(rMinute * (2 / 3), rMinute * (3 / 40))\n\t\t\t\tthis.traceLine(rMinute * (3 / 3), rMinute * (0 / 40))\n\t\t\t\tthis.traceLine(rMinute * (2 / 3), rMinute * (-3 / 40))\n\t\t\t\tthis.traceLine(rMinute * (1 / 4), rMinute * (-(5 / 3) / 40))\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.fillStyle = '#444'\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceCircle(0.08)\n\t\t\t\tthis.context.fill()\n\t\t\t})\n\t\t}\n\t\tconst renderTimer = () => {\n\t\t\tconst timerAngle = scale(wrap(minutes, 60), 0, 60, 90, -270)\n\t\t\tconst rTimer = 0.83\n\t\t\tthis.withRotation(timerAngle, 0, 0, () => {\n\t\t\t\tthis.context.fillStyle = '#444'\n\t\t\t\tthis.context.strokeStyle = '#000'\n\t\t\t\tthis.setLineWidth(0.015)\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceCircle(0.06)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceLine(rTimer * (0 / 7), rTimer * (1 / 80))\n\t\t\t\tthis.traceLine(rTimer * (6 / 7), rTimer * (1 / 80))\n\t\t\t\tthis.traceLine(rTimer * (6 / 7), rTimer * (5 / 80))\n\t\t\t\tthis.traceLine(rTimer * (7 / 7), rTimer * (0 / 40))\n\t\t\t\tthis.traceLine(rTimer * (6 / 7), rTimer * (-5 / 80))\n\t\t\t\tthis.traceLine(rTimer * (6 / 7), rTimer * (-1 / 80))\n\t\t\t\tthis.traceLine(rTimer * (0 / 7), rTimer * (-1 / 80))\n\t\t\t\tthis.traceLine(0, 0)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.context.fillStyle = '#fff'\n\t\t\t\tthis.traceLine(rTimer * (5 / 7), rTimer * (1 / 80))\n\t\t\t\tthis.traceLine(rTimer * (6 / 7), rTimer * (1 / 80))\n\t\t\t\tthis.traceLine(rTimer * (6 / 7), rTimer * (5 / 80))\n\t\t\t\tthis.traceLine(rTimer * (7 / 7), rTimer * (0 / 40))\n\t\t\t\tthis.traceLine(rTimer * (6 / 7), rTimer * (-5 / 80))\n\t\t\t\tthis.traceLine(rTimer * (6 / 7), rTimer * (-1 / 80))\n\t\t\t\tthis.traceLine(rTimer * (5 / 7), rTimer * (-1 / 80))\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.fillStyle = '#444'\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(0, 0)\n\t\t\t\tthis.traceCircle(0.06)\n\t\t\t\tthis.context.fill()\n\t\t\t})\n\t\t}\n\t\tconst renderSecondHand = () => {\n\t\t\tthis.context.beginPath()\n\t\t\tthis.moveTo(0, 0)\n\t\t\tthis.setLineWidth(0.015)\n\t\t\tconst secondAngle = scale(wrap(seconds, 60), 0, 60, 90, -270)\n\t\t\tconst rSecond = 0.92\n\t\t\tthis.withRotation(secondAngle, 0, 0, () => {\n\t\t\t\tthis.context.fillStyle = '#333'\n\t\t\t\tthis.context.strokeStyle = '#000'\n\n\t\t\t\tconst centerCircleDiameter = this.options.renderTimer ? 0.04 : 0.06\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.traceCircle(centerCircleDiameter + 0.02, -0.4, 0)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.traceCircle(centerCircleDiameter, 0, 0)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(rSecond * -(2 / 5), rSecond * (1 / 30))\n\t\t\t\tthis.traceLine(rSecond * (5 / 5), rSecond * (1 / 120))\n\t\t\t\tthis.traceLine(rSecond * (5 / 5), rSecond * -(1 / 120))\n\t\t\t\tthis.traceLine(rSecond * -(2 / 5), rSecond * -(1 / 30))\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.traceCircle(centerCircleDiameter + 0.02, -(2 / 5), 0)\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.traceCircle(centerCircleDiameter, 0, 0)\n\t\t\t\tthis.context.fill()\n\n\t\t\t\tthis.context.fillStyle = '#fff'\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.moveTo(rSecond * (1 / 6), rSecond * (2 / 90))\n\t\t\t\tthis.traceLine(rSecond * (6 / 6), rSecond * (1 / 120))\n\t\t\t\tthis.traceLine(rSecond * (6 / 6), rSecond * -(1 / 120))\n\t\t\t\tthis.traceLine(rSecond * (1 / 6), rSecond * -(2 / 90))\n\t\t\t\tthis.context.fill()\n\t\t\t})\n\t\t}\n\n\t\tthis.context.save()\n\t\trenderCasing()\n\t\trender60Icons()\n\t\tif (this.options.render12Count) {\n\t\t\trender12Count()\n\t\t}\n\t\tif (this.options.render60Count) {\n\t\t\trender60Count()\n\t\t}\n\t\trenderHourHand()\n\t\trenderMinuteHand()\n\t\tif (this.options.renderTimer) {\n\t\t\trenderTimer()\n\t\t}\n\t\tif (this.options.renderSecondHand) {\n\t\t\trenderSecondHand()\n\t\t}\n\n\t\tthis.context.restore()\n\t}\n\n\t// reads: time, lastUpdateTime, timeRate\n\tprivate extrapolateTime() {\n\t\tconst clockTimeSinceUpdate = Date.now() - this.lastTimeUpdateTime\n\t\tconst scaledTimeSinceUpdate = clockTimeSinceUpdate * this.options.timeRate\n\t\treturn this.options.time + scaledTimeSinceUpdate\n\t}\n}\n","import { Station } from '$/types'\nimport { setupCanvas, drawZoneForElement } from './CanvasElement'\nimport { Slider } from './Slider'\nimport { Toggle } from './Toggle'\nimport { TideOScope } from './TideOScope'\nimport { DisposableStore, MappedView } from '$/utils'\nimport { Gauge } from './Gauge'\nimport { Clock } from './Clock'\n\ndeclare const stations: Record<string, Station>\n\nconst disposables = new DisposableStore()\n\nconst HOUR = 1000 * 60 * 60\nconst DAY = HOUR * 24\nconst YEAR = DAY * 365\n\nconst canvas = document.querySelector('canvas')\nconst main = document.querySelector('main')\nconst config = document.querySelector('form')\n\nif (!(canvas && main && config)) {\n\tthrow Error('bad DOM, elements not found')\n}\n\nconst makeConfigArea = (className: string, parent: HTMLElement = config) => {\n\tconst el = parent.appendChild(document.createElement('div'))\n\tel.className = className\n\treturn el\n}\n\nconst configs = [\n\tmakeConfigArea('toggles'),\n\tmakeConfigArea('toggles'),\n\tmakeConfigArea('slider'),\n\tmakeConfigArea('slider'),\n\tmakeConfigArea('slider'),\n\tmakeConfigArea('slider'),\n]\nconst tideOScopeToggles = [\n\tmakeConfigArea('toggle', configs[0]),\n\tmakeConfigArea('toggle', configs[0]),\n\tmakeConfigArea('toggle', configs[0]),\n]\nconst clockToggles = [\n\tmakeConfigArea('toggle', configs[1]),\n\tmakeConfigArea('toggle', configs[1]),\n\tmakeConfigArea('toggle', configs[1]),\n]\nconfigs[0].classList.add('flex')\nconfigs[1].classList.add('flex')\n\nconst go = () => {\n\tdisposables.clear()\n\n\tconst ref = document.location.hash.slice(1)\n\t// const active = Stations.find((s) => s.id === ref) as Station\n\tconst active = stations[ref]\n\tif (!active) {\n\t\tthrow Error('not found')\n\t}\n\n\tconst { ctx, dim } = setupCanvas(canvas)\n\n\tconst mainDrawZone = drawZoneForElement(main)\n\n\t// Background\n\tctx.fillStyle = '#333'\n\tctx.fillRect(dim.left, dim.top, dim.width, dim.height)\n\n\tconst defaultOptions = {\n\t\trenderScale: 1,\n\t\tlabelConstituents: false,\n\t\tyRange: 8,\n\t\tcenter: Date.now(),\n\t\ttimeRange: 2 * DAY,\n\t\ttimeRate: 1,\n\t\trenderMoon: true,\n\t\trenderSun: true,\n\t\trenderHarmonics: false,\n\t\tperiodLoPass: 12,\n\t\tperiodHiPass: -6,\n\t}\n\n\tconst tideOScope = new TideOScope(\n\t\tctx,\n\t\tdrawZoneForElement(main),\n\t\tactive,\n\t\tdefaultOptions,\n\t)\n\n\tconst constituentToggle = new Toggle(\n\t\tctx,\n\t\tdrawZoneForElement(tideOScopeToggles[2]),\n\t\t{\n\t\t\tlabel: 'Harmonics',\n\t\t\tonLabel: 'Show',\n\t\t\toffLabel: 'Hide',\n\t\t\tvalue: defaultOptions.renderHarmonics,\n\t\t},\n\t)\n\tconst moonToggle = new Toggle(ctx, drawZoneForElement(tideOScopeToggles[0]), {\n\t\tlabel: 'Moon',\n\t\tonLabel: 'Show',\n\t\toffLabel: 'Hide',\n\t\tvalue: defaultOptions.renderMoon,\n\t})\n\tconst sunToggle = new Toggle(ctx, drawZoneForElement(tideOScopeToggles[1]), {\n\t\tlabel: 'Sun',\n\t\tonLabel: 'Show',\n\t\toffLabel: 'Hide',\n\t\tvalue: defaultOptions.renderSun,\n\t})\n\tconst secondToggle = new Toggle(ctx, drawZoneForElement(clockToggles[0]), {\n\t\tlabel: 'Seconds',\n\t\tonLabel: 'Show',\n\t\toffLabel: 'Hide',\n\t\tvalue: false,\n\t})\n\tconst numbers60Toggle = new Toggle(ctx, drawZoneForElement(clockToggles[2]), {\n\t\tlabel: '60-Count',\n\t\tonLabel: 'Show',\n\t\toffLabel: 'Hide',\n\t\tvalue: false,\n\t})\n\tconst numbers12Toggle = new Toggle(ctx, drawZoneForElement(clockToggles[1]), {\n\t\tlabel: '12-Count',\n\t\tonLabel: 'Show',\n\t\toffLabel: 'Hide',\n\t\tvalue: true,\n\t})\n\tconst scrollSpeedSlider = new Slider(ctx, drawZoneForElement(configs[2]), {\n\t\tlabel: 'Scroll Speed',\n\t\tmax: 100000,\n\t\tmin: 1,\n\t\tvalue: defaultOptions.timeRate,\n\t})\n\tconst windowRangeSlider = new Slider(ctx, drawZoneForElement(configs[3]), {\n\t\tlabel: 'Window Range',\n\t\tmin: Math.log(8 * HOUR),\n\t\tmax: Math.log(2 * YEAR),\n\t\tvalue: Math.log(defaultOptions.timeRange),\n\t})\n\tconst highpassCutoff = new Slider(ctx, drawZoneForElement(configs[4]), {\n\t\tlabel: 'Hi Pass',\n\t\tmin: -6,\n\t\tmax: 12,\n\t\tvalue: defaultOptions.periodHiPass,\n\t})\n\tconst lowpassCutoff = new Slider(ctx, drawZoneForElement(configs[5]), {\n\t\tlabel: 'Lo Pass',\n\t\tmin: -6,\n\t\tmax: 12,\n\t\tvalue: defaultOptions.periodLoPass,\n\t})\n\n\tconst UTCOffset = 0\n\tconst LocalOffset = new Date().getTimezoneOffset()\n\tconst StationOffset = -(active.timezoneOffset ?? 0) * 60\n\n\tconst timeGauge = new Clock(\n\t\tctx,\n\t\t{\n\t\t\theight: mainDrawZone.height / 4,\n\t\t\twidth: mainDrawZone.width / 4,\n\t\t\tleft: mainDrawZone.left + mainDrawZone.width * (3 / 4),\n\t\t\ttop: mainDrawZone.top,\n\t\t},\n\t\t{\n\t\t\ttime: defaultOptions.center,\n\t\t\toffset: StationOffset,\n\t\t\ttimeRate: defaultOptions.timeRate,\n\t\t\trender60Count: false,\n\t\t\trenderSecondHand: false,\n\t\t\trender12Count: true,\n\t\t\trenderTimer: false,\n\t\t},\n\t)\n\tconst tideHeightGauge = new Gauge(\n\t\tctx,\n\t\t{\n\t\t\theight: mainDrawZone.height / 4,\n\t\t\twidth: mainDrawZone.width / 4,\n\t\t\tleft: mainDrawZone.left,\n\t\t\ttop: mainDrawZone.top,\n\t\t},\n\t\t{\n\t\t\ttitle: 'Tide',\n\t\t\tsubtitle: 'Feet',\n\t\t\tmin: -defaultOptions.yRange,\n\t\t\tmax: defaultOptions.yRange,\n\t\t\tvalue: 0,\n\t\t\tminAngle: 30,\n\t\t\tmaxAngle: -210,\n\t\t\tnumMajorTics: 9,\n\t\t\tnumMinorTics: 3,\n\t\t},\n\t)\n\n\tconst tideFlowGauge = new Gauge(\n\t\tctx,\n\t\t{\n\t\t\theight: mainDrawZone.height / 4,\n\t\t\twidth: mainDrawZone.width / 4,\n\t\t\tleft: mainDrawZone.left,\n\t\t\ttop: mainDrawZone.top + mainDrawZone.height * (3 / 4),\n\t\t},\n\t\t{\n\t\t\ttitle: 'Flow',\n\t\t\tsubtitle: 'feet per hr',\n\t\t\tmin: -defaultOptions.yRange / 2,\n\t\t\tmax: defaultOptions.yRange / 2,\n\t\t\tvalue: 0,\n\t\t\tminAngle: 30,\n\t\t\tmaxAngle: -210,\n\t\t\tnumMajorTics: 9,\n\t\t\tnumMinorTics: 3,\n\t\t},\n\t)\n\n\ttideOScope.viewInput('renderHarmonics', constituentToggle.valueView)\n\ttideOScope.viewInput('periodLoPass', lowpassCutoff.valueView)\n\ttideOScope.viewInput('periodHiPass', highpassCutoff.valueView)\n\ttideOScope.viewInput('renderMoon', moonToggle.valueView)\n\ttideOScope.viewInput('renderSun', sunToggle.valueView)\n\ttideOScope.viewInput(\n\t\t'timeRange',\n\t\tMappedView(windowRangeSlider.valueView, (v) => Math.E ** v),\n\t)\n\ttideOScope.viewInput('timeRate', scrollSpeedSlider.valueView)\n\n\ttideFlowGauge.viewInput(\n\t\t'value',\n\t\tMappedView(tideOScope.centralDataView, (v) => v.flow),\n\t)\n\ttideHeightGauge.viewInput(\n\t\t'value',\n\t\tMappedView(tideOScope.centralDataView, (v) => v.total),\n\t)\n\ttimeGauge.viewInput(\n\t\t'time',\n\t\tMappedView(tideOScope.centralDataView, (v) => v.time),\n\t)\n\ttimeGauge.viewInput('timeRate', scrollSpeedSlider.valueView)\n\ttimeGauge.viewInput('render60Count', numbers60Toggle.valueView)\n\ttimeGauge.viewInput('render12Count', numbers12Toggle.valueView)\n\ttimeGauge.viewInput('renderSecondHand', secondToggle.valueView)\n\n\t// hack to prevent these being drawn underneath the main scope...\n\t// ideally they'd be on a different layer of canvas or something?\n\t// TODO: Different canvas layers.\n\tdisposables.add(\n\t\ttideOScope.onDidRender(() => {\n\t\t\ttideFlowGauge.render()\n\t\t\ttideHeightGauge.render()\n\t\t\ttimeGauge.render()\n\t\t}),\n\t)\n\n\tconst allComponents = [\n\t\twindowRangeSlider,\n\t\tscrollSpeedSlider,\n\t\thighpassCutoff,\n\t\tlowpassCutoff,\n\t\tmoonToggle,\n\t\tsunToggle,\n\t\tconstituentToggle,\n\t\ttideOScope,\n\t\ttideHeightGauge,\n\t\ttimeGauge,\n\t\tnumbers12Toggle,\n\t\tnumbers60Toggle,\n\t\tsecondToggle,\n\t\ttideFlowGauge,\n\t]\n\n\tdisposables.add(...allComponents)\n\tallComponents.map((c) => c.render())\n}\n\nwindow.addEventListener('resize', go)\nwindow.addEventListener('hashchange', go)\ngo()\n"],"names":[],"mappings":"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"}