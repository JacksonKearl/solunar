<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="theme-color" content="#333" />

		<script src="./stationData.js"></script>
		<script type="module" src="./index.js"></script>
		<link rel="manifest" href="./manifest.json" />
		<title>SoLunar</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				font-family: system-ui;
			}

			.flex {
				display: flex !important;
			}

			@media (orientation: landscape) {
				.flex {
					flex-direction: row;
				}
				.flex .flex {
					flex-direction: column;
				}
				.flex .flex .flex {
					flex-direction: row;
				}
			}
			@media (orientation: portrait) {
				.flex {
					flex-direction: column;
				}
				.flex .flex {
					flex-direction: row;
				}
				.flex .flex .flex {
					flex-direction: column;
				}
			}

			body {
				position: relative;
				height: 100vh;
				height: 100svh;
				width: 100vw;
				width: 100svw;
				display: flex;
				overflow: hidden;
				background-color: #333;
			}

			main {
				flex-grow: 10;
				flex-basis: 300px;
				margin: 15px;
				display: flex;
				flex-direction: column;
			}
			#title {
				position: relative;
				color: #fff;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}
			#content {
				margin: 10px;
				flex-grow: 100;
			}
			#foot {
				position: relative;
				width: 100%;
				height: 30px;
				color: #fff;
				font-family: menlo, monaco, monospace;
				text-align: center;
				font-size: 18px;
				display: flex;
				align-items: center;
				justify-content: center;
			}
			#title button {
				height: 30px;
				color: #fff;
				background-color: #222;
				border: solid 2px #fff;
				margin: 5px;
				padding: 5px;
			}
			#title h2 {
				line-height: 24px;
			}
			form {
				margin: 15px;
				margin-top: 0;
				flex-grow: 1;
				flex-basis: 250px;
				flex-shrink: 0;
				display: flex;
				justify-content: space-evenly;
			}
			canvas {
				position: absolute;
				width: 100%;
				height: 100%;
			}
			.flex > div {
				height: 100%;
				width: 100%;
				display: block;
			}

			iframe {
				height: 100%;
				width: 100%;
			}

			#map,
			#map-container {
				position: absolute;
				width: 100%;
				height: 100%;
				background-color: azure;
			}

			.map-overlay {
				font: 12px/20px system-ui;
				position: absolute;
				width: 25%;
				min-width: 200px;
				top: 0;
				left: 0;
				padding: 10px;
			}

			.map-overlay .map-overlay-inner {
				background-color: #fff;
				box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
				border-radius: 3px;
				padding: 10px;
				margin-bottom: 10px;
			}

			.map-overlay h2 {
				line-height: 24px;
				display: block;
				margin: 0 0 10px;
			}

			.map-overlay .legend .bar {
				height: 10px;
				width: 100%;
				background: linear-gradient(
					to right,
					rgb(138, 43, 226),
					rgb(255, 215, 0)
				);
			}

			.map-overlay input[type='range'] {
				background-color: transparent;
				display: inline-block;
				width: 100%;
				position: relative;
				margin: 0;
				cursor: ew-resize;
			}

			.map-overlay-inner.about label {
				margin-top: 5px;
			}

			.map-overlay-inner.about span {
				position: relative;
				top: -2px;
				left: 2px;
			}

			.options button {
				padding: 5px;
				border: none;
				color: black;
				margin-right: 5px;
				margin-bottom: 5px;
				border-radius: 3px;
				background-color: white;
				box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
			}

			img#jeff {
				border-radius: 50%;
				object-fit: cover;
				aspect-ratio: 1;
				width: 60px;
				position: absolute;
				top: 10px;
				right: 50px;
			}

			.about {
				display: flex;
				flex-direction: column;
			}
		</style>
		<script src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
		<link
			href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css"
			rel="stylesheet"
		/>
	</head>
	<body class="flex">
		<canvas id="canvas"> </canvas>
		<main id="main"></main>
		<form class="flex" id="config"></form>
		<div id="map-container"></div>
	</body>
</html>
